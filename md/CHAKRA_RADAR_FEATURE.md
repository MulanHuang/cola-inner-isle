# ğŸŒˆ è„‰è½®æµ‹è¯•é›·è¾¾å›¾ + è¯¦ç»†åˆ†ææ¨¡å— - å®Œæ•´å®ç°

## âœ… åŠŸèƒ½æ¦‚è¿°

å·²æˆåŠŸä¸ºè„‰è½®æµ‹è¯•ç»“æœé¡µæ·»åŠ äº†**é›·è¾¾å›¾å¯è§†åŒ–**å’Œ**äº¤äº’å¼è¯¦ç»†åˆ†æ**åŠŸèƒ½ï¼š

1. **ä¸ƒå¤§è„‰è½®é›·è¾¾å›¾**ï¼šä½¿ç”¨åŸç”Ÿ Canvas 2D API ç»˜åˆ¶ï¼Œå±•ç¤ºä¸ƒä¸ªè„‰è½®çš„èƒ½é‡åˆ†å¸ƒ
2. **å¯ç‚¹å‡»å›¾ä¾‹**ï¼šç‚¹å‡»å›¾ä¾‹åˆ‡æ¢é€‰ä¸­çš„è„‰è½®ï¼Œé›·è¾¾å›¾ä¼šé«˜äº®æ˜¾ç¤º
3. **è¯¦ç»†åˆ†ææ¨¡å—**ï¼šåŠ¨æ€æ˜¾ç¤ºé€‰ä¸­è„‰è½®çš„è¯¦ç»†ä¿¡æ¯ï¼ˆçŠ¶æ€æ€»ç»“ã€å¯èƒ½æ„Ÿå—ã€ç»ƒä¹ å»ºè®®ã€æ­£å¿µå®£è¨€ï¼‰
4. **æ™ºèƒ½é»˜è®¤é€‰æ‹©**ï¼šè‡ªåŠ¨é€‰ä¸­å¾—åˆ†æœ€ä½çš„è„‰è½®ï¼Œå¼•å¯¼ç”¨æˆ·å…³æ³¨éœ€è¦ç–—æ„ˆçš„éƒ¨åˆ†

---

## ğŸ“ æ–°å¢æ–‡ä»¶

### 1. é›·è¾¾å›¾ç»„ä»¶ï¼ˆ4ä¸ªæ–‡ä»¶ï¼‰

```
components/chakra-radar/
â”œâ”€â”€ chakra-radar.json    # ç»„ä»¶é…ç½®
â”œâ”€â”€ chakra-radar.wxml    # ç»„ä»¶æ¨¡æ¿ï¼ˆCanvas + å›¾ä¾‹ï¼‰
â”œâ”€â”€ chakra-radar.js      # ç»„ä»¶é€»è¾‘ï¼ˆCanvas ç»˜åˆ¶ï¼‰
â””â”€â”€ chakra-radar.wxss    # ç»„ä»¶æ ·å¼
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- âœ… ä½¿ç”¨ Canvas 2D API ç»˜åˆ¶é›·è¾¾å›¾
- âœ… 5å±‚èƒŒæ™¯ç½‘æ ¼ï¼ˆ0%, 20%, 40%, 60%, 80%, 100%ï¼‰
- âœ… 7æ¡è½´çº¿å’Œæ ‡ç­¾ï¼ˆä¸ƒå¤§è„‰è½®åç§°ï¼‰
- âœ… æ•°æ®åŒºåŸŸå¡«å……ï¼ˆåŠé€æ˜æ£•è‰²ï¼‰
- âœ… æ•°æ®ç‚¹é«˜äº®ï¼ˆé€‰ä¸­è„‰è½®æœ‰åœ†ç¯ï¼‰
- âœ… å¯ç‚¹å‡»å›¾ä¾‹åˆ‡æ¢é€‰ä¸­è„‰è½®

---

## ğŸ”„ ä¿®æ”¹çš„æ–‡ä»¶

### 1. `app.json`
- å…¨å±€æ³¨å†Œ `chakra-radar` ç»„ä»¶

### 2. `pages/chakraResult/index.wxml`
- åœ¨å¤´éƒ¨ä¸‹æ–¹æ·»åŠ é›·è¾¾å›¾æ¨¡å—
- æ·»åŠ è¯¦ç»†åˆ†ææ¨¡å—ï¼ˆçŠ¶æ€æ€»ç»“ã€å¯èƒ½æ„Ÿå—ã€ç»ƒä¹ å»ºè®®ã€æ­£å¿µå®£è¨€ï¼‰

### 3. `pages/chakraResult/index.js`
- æ·»åŠ  `radarData`ã€`selectedChakra`ã€`selectedChakraInfo` æ•°æ®å­—æ®µ
- å®ç° `updateSelectedChakraInfo()` æ–¹æ³•ï¼šæ›´æ–°é€‰ä¸­è„‰è½®çš„è¯¦ç»†ä¿¡æ¯
- å®ç° `onChakraChange()` æ–¹æ³•ï¼šå¤„ç†é›·è¾¾å›¾å›¾ä¾‹ç‚¹å‡»äº‹ä»¶
- ä¿®æ”¹ `processResults()` æ–¹æ³•ï¼šç”Ÿæˆé›·è¾¾å›¾æ•°æ®ï¼Œé»˜è®¤é€‰ä¸­å¾—åˆ†æœ€ä½çš„è„‰è½®

### 4. `pages/chakraResult/index.wxss`
- æ·»åŠ é›·è¾¾å›¾æ¨¡å—æ ·å¼
- æ·»åŠ è¯¦ç»†åˆ†ææ¨¡å—æ ·å¼ï¼ˆå¡ç‰‡ã€æ ‡ç­¾ã€åˆ—è¡¨ç­‰ï¼‰

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£

### 1. é›·è¾¾å›¾ç»˜åˆ¶é€»è¾‘

**Canvas ç»˜åˆ¶æ­¥éª¤**ï¼š

```javascript
// 1. ç»˜åˆ¶èƒŒæ™¯ç½‘æ ¼ï¼ˆ5å±‚ï¼‰
drawGrid(ctx, centerX, centerY, radius, 7);

// 2. ç»˜åˆ¶è½´çº¿å’Œæ ‡ç­¾ï¼ˆ7ä¸ªè„‰è½®ï¼‰
drawAxes(ctx, centerX, centerY, radius, 7);

// 3. ç»˜åˆ¶æ•°æ®åŒºåŸŸï¼ˆå¡«å……ï¼‰
drawDataArea(ctx, centerX, centerY, radius, 7);

// 4. ç»˜åˆ¶æ•°æ®ç‚¹ï¼ˆé«˜äº®é€‰ä¸­çš„ç‚¹ï¼‰
drawDataPoints(ctx, centerX, centerY, radius, 7);
```

**å…³é”®è®¡ç®—**ï¼š
- æ¯ä¸ªè„‰è½®çš„è§’åº¦ï¼š`angle = (Math.PI * 2 / 7) * i - Math.PI / 2`
- æ•°æ®ç‚¹çš„ä½ç½®ï¼š`x = centerX + radius * (value / 100) * Math.cos(angle)`

### 2. äº¤äº’é€»è¾‘

**ç”¨æˆ·ç‚¹å‡»å›¾ä¾‹ â†’ åˆ‡æ¢é€‰ä¸­è„‰è½®**ï¼š

```javascript
// 1. ç”¨æˆ·ç‚¹å‡»å›¾ä¾‹
onLegendTap(e) {
  const type = e.currentTarget.dataset.type;
  this.triggerEvent('chakrachange', { type: type });
}

// 2. çˆ¶ç»„ä»¶æ¥æ”¶äº‹ä»¶
onChakraChange(e) {
  const chakraType = e.detail.type;
  this.setData({ selectedChakra: chakraType });
  this.updateSelectedChakraInfo(chakraType);
}

// 3. æ›´æ–°è¯¦ç»†åˆ†ææ¨¡å—
updateSelectedChakraInfo(chakraType) {
  // æ ¹æ® chakraType æŸ¥æ‰¾å¯¹åº”çš„è„‰è½®æ•°æ®
  // æ›´æ–° selectedChakraInfoï¼ˆåç§°ã€é¢œè‰²ã€å¾—åˆ†ã€æè¿°ã€å»ºè®®ç­‰ï¼‰
}
```

### 3. æ•°æ®ç»“æ„

**é›·è¾¾å›¾æ•°æ®æ ¼å¼**ï¼š
```javascript
radarData: [
  { type: 'root', name: 'æµ·åº•è½®', value: 60, color: '#E53935' },
  { type: 'sacral', name: 'è…¹è½®', value: 75, color: '#FF6F00' },
  { type: 'solar', name: 'å¤ªé˜³ç¥ç»ä¸›è½®', value: 50, color: '#FDD835' },
  { type: 'heart', name: 'å¿ƒè½®', value: 80, color: '#43A047' },
  { type: 'throat', name: 'å–‰è½®', value: 65, color: '#1E88E5' },
  { type: 'third_eye', name: 'çœ‰å¿ƒè½®', value: 70, color: '#5E35B1' },
  { type: 'crown', name: 'é¡¶è½®', value: 85, color: '#8E24AA' }
]
```

**é€‰ä¸­è„‰è½®è¯¦ç»†ä¿¡æ¯æ ¼å¼**ï¼š
```javascript
selectedChakraInfo: {
  type: 'root',
  name: 'æµ·åº•è½®',
  emoji: 'ğŸ”´',
  color: '#E53935',
  percentage: 60,
  statusIcon: 'â­',
  statusTitle: 'åŸºæœ¬å¹³è¡¡ Â· å¶æœ‰æ³¢åŠ¨',
  description: 'ä½ çš„æµ·åº•è½®åŸºæœ¬å¹³è¡¡ï¼Œä½†åœ¨å‹åŠ›æˆ–å˜åŒ–æ—¶å¯èƒ½ä¼šæ„Ÿåˆ°ä¸å®‰...',
  traits: ['æ—¶è€Œç¨³å®š', 'å¶å°”ç„¦è™‘', 'æ­£åœ¨æˆé•¿', 'éœ€è¦æ”¯æŒ'],
  practices: ['èµ¤è„šèµ°åœ¨è‰åœ°æˆ–æ²™æ»©ä¸Š', 'ç»ƒä¹ ç‘œä¼½çš„å±±å¼å’Œæˆ˜å£«å¼', ...],
  affirmation: 'æˆ‘æ˜¯å®‰å…¨çš„ï¼Œæˆ‘è¢«å¤§åœ°æ”¯æŒç€ï¼Œæˆ‘ä¿¡ä»»ç”Ÿæ´»çš„æµåŠ¨ã€‚'
}
```

---

## ğŸ¨ UI è®¾è®¡

### é›·è¾¾å›¾æ¨¡å—
- **èƒŒæ™¯**ï¼šå¥¶æ²¹è‰²æ¸å˜ï¼ˆ`#fff9f0` â†’ `#ffffff`ï¼‰
- **Canvas å°ºå¯¸**ï¼šå®½åº¦ 100%ï¼Œé«˜åº¦ 400rpx
- **ç½‘æ ¼é¢œè‰²**ï¼šæµ…ç°è‰²ï¼ˆ`#E0E0E0`ï¼‰
- **æ•°æ®åŒºåŸŸ**ï¼šåŠé€æ˜æ£•è‰²å¡«å……ï¼ˆ`rgba(139, 115, 85, 0.2)`ï¼‰
- **æ•°æ®ç‚¹**ï¼šå„è„‰è½®å¯¹åº”é¢œè‰²çš„åœ†ç‚¹
- **é€‰ä¸­é«˜äº®**ï¼šåœ†ç¯ï¼ˆ8rpx åŠå¾„ï¼‰

### å›¾ä¾‹
- **å¸ƒå±€**ï¼šæ¨ªå‘æ’åˆ—ï¼Œè‡ªåŠ¨æ¢è¡Œ
- **æœªé€‰ä¸­**ï¼šæµ…ç°è‰²èƒŒæ™¯ï¼ˆ`#F5F5F5`ï¼‰
- **é€‰ä¸­**ï¼šå¥¶æ²¹è‰²æ¸å˜èƒŒæ™¯ + é˜´å½± + æ”¾å¤§ï¼ˆ`scale(1.05)`ï¼‰
- **å†…å®¹**ï¼šé¢œè‰²ç‚¹ + è„‰è½®åç§° + ç™¾åˆ†æ¯”

### è¯¦ç»†åˆ†ææ¨¡å—
- **èƒŒæ™¯**ï¼šç™½è‰²åˆ°å¥¶æ²¹è‰²æ¸å˜ï¼ˆ`#ffffff` â†’ `#fff9f0`ï¼‰
- **çŠ¶æ€å¡ç‰‡**ï¼šå¥¶æ²¹è‰²æ¸å˜èƒŒæ™¯ï¼ˆ`#fff5f0` â†’ `#ffe8e0`ï¼‰
- **ç‰¹è´¨æ ‡ç­¾**ï¼šç»¿è‰²æ¸å˜èƒŒæ™¯ï¼ˆ`#e8f5e9` â†’ `#c8e6c9`ï¼‰
- **æ­£å¿µå®£è¨€**ï¼šæ–œä½“ã€å±…ä¸­ã€æ£•è‰²æ–‡å­—

---

## ğŸ“Š é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ¨ ä½ çš„è„‰è½®èƒ½é‡å›¾è°±             â”‚
â”‚  æ„¿ä½ çš„èƒ½é‡å¦‚è²èŠ±èˆ¬ç»½æ”¾          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒˆ ä¸ƒå¤§è„‰è½®é›·è¾¾å›¾               â”‚
â”‚  ç‚¹å‡»å›¾ä¾‹æŸ¥çœ‹è¯¦ç»†åˆ†æ            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                           â”‚  â”‚
â”‚  â”‚      é›·è¾¾å›¾ Canvas        â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [æµ·åº•è½® 60%] [è…¹è½® 75%] ...    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ æµ·åº•è½®              60%     â”‚
â”‚  â­ åŸºæœ¬å¹³è¡¡ Â· å¶æœ‰æ³¢åŠ¨          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ’« çŠ¶æ€æ€»ç»“               â”‚  â”‚
â”‚  â”‚ ä½ çš„æµ·åº•è½®åŸºæœ¬å¹³è¡¡...     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸŒŸ å¯èƒ½æ„Ÿå—               â”‚  â”‚
â”‚  â”‚ [æ—¶è€Œç¨³å®š] [å¶å°”ç„¦è™‘]     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ§˜â€â™€ï¸ ç»ƒä¹ å»ºè®®              â”‚  â”‚
â”‚  â”‚ â€¢ èµ¤è„šèµ°åœ¨è‰åœ°æˆ–æ²™æ»©ä¸Š    â”‚  â”‚
â”‚  â”‚ â€¢ ç»ƒä¹ ç‘œä¼½çš„å±±å¼å’Œæˆ˜å£«å¼  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ¨ æ­£å¿µå®£è¨€               â”‚  â”‚
â”‚  â”‚ æˆ‘æ˜¯å®‰å…¨çš„ï¼Œæˆ‘è¢«å¤§åœ°...   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ï¼ˆåŸæœ‰çš„èƒ½é‡æ¡å›¾è¡¨å’Œè¯¦ç»†è§£è¯»...ï¼‰
```

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### ç”¨æˆ·æ“ä½œæµç¨‹

1. **å®Œæˆæµ‹è¯•** â†’ è¿›å…¥ç»“æœé¡µ
2. **æŸ¥çœ‹é›·è¾¾å›¾** â†’ ç›´è§‚äº†è§£ä¸ƒå¤§è„‰è½®çš„èƒ½é‡åˆ†å¸ƒ
3. **é»˜è®¤æ˜¾ç¤º** â†’ è‡ªåŠ¨æ˜¾ç¤ºå¾—åˆ†æœ€ä½çš„è„‰è½®è¯¦ç»†åˆ†æ
4. **ç‚¹å‡»å›¾ä¾‹** â†’ åˆ‡æ¢æŸ¥çœ‹å…¶ä»–è„‰è½®çš„è¯¦ç»†åˆ†æ
5. **é˜…è¯»å»ºè®®** â†’ æ ¹æ®çŠ¶æ€æ€»ç»“ã€å¯èƒ½æ„Ÿå—ã€ç»ƒä¹ å»ºè®®è¿›è¡Œç–—æ„ˆ

### å¼€å‘è€…æµ‹è¯•æ­¥éª¤

1. **ç¼–è¯‘å°ç¨‹åº**
2. **å®Œæˆä¸€æ¬¡è„‰è½®æµ‹è¯•**
3. **æŸ¥çœ‹ç»“æœé¡µ**ï¼š
   - æ£€æŸ¥é›·è¾¾å›¾æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
   - æ£€æŸ¥æ˜¯å¦é»˜è®¤é€‰ä¸­å¾—åˆ†æœ€ä½çš„è„‰è½®
   - ç‚¹å‡»å›¾ä¾‹ï¼Œæ£€æŸ¥è¯¦ç»†åˆ†ææ˜¯å¦åˆ‡æ¢
   - æ£€æŸ¥é›·è¾¾å›¾ä¸Šçš„é«˜äº®åœ†ç¯æ˜¯å¦è·Ÿéšåˆ‡æ¢

---

## ğŸ”§ æŠ€æœ¯è¦ç‚¹

### 1. Canvas 2D API ä½¿ç”¨

```javascript
// è·å– Canvas èŠ‚ç‚¹
const query = this.createSelectorQuery();
query.select('.radar-canvas')
  .fields({ node: true, size: true })
  .exec((res) => {
    const canvas = res[0].node;
    const ctx = canvas.getContext('2d');
    const dpr = wx.getSystemInfoSync().pixelRatio;
    
    // è®¾ç½®å®é™…å°ºå¯¸ï¼ˆè€ƒè™‘è®¾å¤‡åƒç´ æ¯”ï¼‰
    canvas.width = res[0].width * dpr;
    canvas.height = res[0].height * dpr;
    ctx.scale(dpr, dpr);
  });
```

### 2. ç»„ä»¶é€šä¿¡

```javascript
// å­ç»„ä»¶è§¦å‘äº‹ä»¶
this.triggerEvent('chakrachange', { type: 'root' });

// çˆ¶ç»„ä»¶ç›‘å¬äº‹ä»¶
<chakra-radar bind:chakrachange="onChakraChange"></chakra-radar>
```

### 3. æ•°æ®è§‚å¯Ÿå™¨

```javascript
properties: {
  chakraData: {
    type: Array,
    value: [],
    observer: 'drawRadar' // æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨é‡ç»˜
  }
}
```

---

## âœ… å®ŒæˆçŠ¶æ€

**æ‰€æœ‰åŠŸèƒ½å·²å®Œæ•´å®ç°ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼**

- âœ… é›·è¾¾å›¾ç»„ä»¶åˆ›å»ºå®Œæˆ
- âœ… Canvas ç»˜åˆ¶é€»è¾‘å®ç°
- âœ… å›¾ä¾‹äº¤äº’åŠŸèƒ½å®ç°
- âœ… è¯¦ç»†åˆ†ææ¨¡å—å®ç°
- âœ… æ™ºèƒ½é»˜è®¤é€‰æ‹©å®ç°
- âœ… æ ·å¼ç¾åŒ–å®Œæˆ
- âœ… å…¨å±€ç»„ä»¶æ³¨å†Œå®Œæˆ

---

**ç°åœ¨å¯ä»¥ç¼–è¯‘å¹¶æµ‹è¯•é›·è¾¾å›¾åŠŸèƒ½äº†ï¼** ğŸš€âœ¨

