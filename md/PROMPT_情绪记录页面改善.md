# 🎯 情绪记录页面改善需求

## 📋 背景说明

我有一个微信小程序「可乐心岛」，其中有一个**情绪记录页面**（`pages/emotion/emotion`），目前功能比较基础。我希望参考**首页的"今日一句"功能**，为情绪记录页面增加一个**温暖的励志文案模块**，让用户在记录情绪前能感受到温暖和鼓励。

---

## 🎨 参考设计：首页"今日一句"功能

### 当前实现（`pages/home/home`）

**视觉效果：**
- 顶部卡片，渐变背景（米白色到浅棕色）
- 居中显示励志文案："每一次呼吸，都是与自己和解的机会"
- 底部有"🔄 换一句"按钮，点击可随机切换文案

**技术实现：**
- 从云数据库 `quotes` 集合随机抽取文案（`.sample({ size: 1 })`）
- 数据源：`database/init-data/quotes.json`（15 条励志文案）
- 点击"换一句"按钮重新调用 `loadDailyQuote()` 方法

**代码位置：**
- WXML：`pages/home/home.wxml` 第 3-12 行
- JS：`pages/home/home.js` 第 24-43 行
- WXSS：`pages/home/home.wxss` 第 6-44 行

---

## 🎯 改善目标

### 1️⃣ 在情绪记录页面顶部增加"温暖一句"模块

**位置：** 在现有的 `<view class="header">` 和第一个 `<view class="section">` 之间插入

**功能需求：**
- 显示一条温暖、鼓励性的文案（专门针对情绪记录场景）
- 提供"换一句"按钮，点击可随机切换
- 视觉风格与首页"今日一句"保持一致，但可以调整颜色/图标以适配情绪记录场景

**文案方向：**
- 鼓励用户表达情绪："你的感受是真实的，值得被看见"
- 温柔陪伴："在这里，你可以安全地表达任何情绪"
- 自我接纳："每一种情绪都在告诉你一些重要的事"
- 建议准备 10-15 条专属文案

---

### 2️⃣ 数据存储方案

**选项 A（推荐）：** 复用现有 `quotes` 集合
- 在 `quotes` 集合中增加 `category` 字段（如 `"emotion"`）
- 查询时过滤：`db.collection('quotes').where({ category: 'emotion' }).aggregate().sample({ size: 1 })`

**选项 B：** 创建新集合 `emotionQuotes`
- 独立管理情绪记录页面的文案
- 数据结构：`{ content: string, author?: string }`

---

### 3️⃣ 视觉设计要求

**样式参考首页，但做以下调整：**
- 背景色：可以使用更柔和的渐变（如淡粉色到米白色，体现情绪关怀）
- 图标：从 `✨` 改为 `💖` 或 `🌸`（更贴合情绪主题）
- 圆角、阴影、字体大小保持与首页一致
- 确保在移动端显示良好，不遮挡主要功能

---

### 4️⃣ 代码实现要求

**WXML 修改（`pages/emotion/emotion.wxml`）：**
- 在第 6 行 `</view>` 后插入新的"温暖一句"卡片
- 结构参考 `pages/home/home.wxml` 第 3-12 行

**JS 修改（`pages/emotion/emotion.js`）：**
- 在 `data` 中增加 `emotionQuote` 字段
- 增加 `loadEmotionQuote()` 方法（从数据库加载）
- 增加 `refreshEmotionQuote()` 方法（点击"换一句"触发）
- 在 `onLoad()` 中调用 `loadEmotionQuote()`

**WXSS 修改（`pages/emotion/emotion.wxss`）：**
- 复制首页的 `.quote-card` 相关样式
- 重命名为 `.emotion-quote-card`（避免样式冲突）
- 调整背景色和图标颜色

---

### 5️⃣ 文案建议（10-15 条）

请帮我生成适合情绪记录场景的温暖文案，例如：
1. "你的感受是真实的，值得被看见"
2. "在这里，你可以安全地表达任何情绪"
3. "每一种情绪都在告诉你一些重要的事"
4. "温柔地对待自己，就像对待一个好朋友"
5. "允许自己慢下来，感受此刻"
6. ...（请补充至 10-15 条）

---

## ✅ 验收标准

1. **功能完整性：**
   - ✅ 页面顶部显示温暖文案
   - ✅ 点击"换一句"可随机切换
   - ✅ 文案从数据库动态加载

2. **视觉一致性：**
   - ✅ 样式与首页"今日一句"保持一致
   - ✅ 颜色/图标适配情绪记录场景

3. **代码质量：**
   - ✅ 不破坏现有功能（情绪选择、标签、AI 回应等）
   - ✅ 代码注释清晰，易于维护
   - ✅ 使用补丁式修改，不重写整个文件

4. **用户体验：**
   - ✅ 加载速度快（数据库查询优化）
   - ✅ 文案温暖、贴合场景
   - ✅ 不影响页面滚动和主要功能操作

---

## 📦 交付内容

请帮我完成以下内容：

1. **修改后的代码文件：**
   - `pages/emotion/emotion.wxml`（增加温暖一句模块）
   - `pages/emotion/emotion.js`（增加加载和刷新逻辑）
   - `pages/emotion/emotion.wxss`（增加样式）

2. **数据库文案：**
   - 提供 10-15 条情绪记录专属文案（JSON 格式）
   - 说明如何导入到云数据库

3. **修改说明：**
   - 用"修改前/修改后"对比的方式展示关键代码片段
   - 标注修改的行号和原因

---

## 🚀 开始改善

请根据以上需求，帮我一步一步完成情绪记录页面的改善工作。如果有任何不清楚的地方，请随时提问！

