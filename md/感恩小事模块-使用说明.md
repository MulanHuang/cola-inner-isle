# 🙏 今日感恩小事 - 使用说明

## ✨ 新功能亮点

### 智能模板插入
- 点击模板按钮，系统会自动识别最合适的输入框
- 支持"聚焦优先"和"空白优先"两种策略
- 光标自动定位到前缀后方，可立即继续输入

### 视觉反馈增强
- 输入框聚焦时：边框变为粉色，阴影增强
- 编号圆圈聚焦时：放大 1.1 倍，阴影增强
- 模板按钮点击时：缩放反馈，背景色加深

---

## 📱 使用方法

### 方法1：先聚焦，再点击模板

1. **点击任意输入框**，使其获得焦点（边框变粉色）
2. **点击模板按钮**，模板前缀会自动插入到该输入框
3. **光标自动定位**到前缀后方，可以立即继续输入

**示例：**
```
1. 点击第2个输入框（聚焦）
2. 点击"💝 让我微笑的瞬间…"按钮
3. 第2个输入框自动填入："让我微笑的瞬间："
4. 光标在冒号后方，可以继续输入
```

### 方法2：直接点击模板

1. **不点击输入框**，直接点击模板按钮
2. 系统会自动找到**第一个空白的输入框**
3. 模板前缀自动插入，光标自动定位

**示例：**
```
1. 直接点击"🙏 今天我感激的是…"按钮
2. 第1个输入框（空白）自动填入："今天我感激的是："
3. 光标在冒号后方，可以继续输入
```

### 方法3：所有输入框都有内容时

1. 如果所有输入框都已有内容
2. 点击模板按钮会插入到**第1个输入框**
3. 不会覆盖已有内容（除非手动删除）

---

## 🎯 智能插入逻辑

### 优先级规则

```
优先级1：当前聚焦的输入框
    ↓ （如果没有聚焦）
优先级2：第一个空白的输入框
    ↓ （如果所有都有内容）
优先级3：第一个输入框
```

### 防止重复插入

- 如果输入框已有相同的模板前缀，不会重复插入
- 只会重新聚焦该输入框，并定位光标到前缀后方

**示例：**
```
输入框内容："今天我感激的是：家人的关心"
点击"🙏 今天我感激的是…"按钮
→ 不会重复插入，只会聚焦并定位光标
```

---

## 🎨 视觉反馈说明

### 输入框聚焦状态
- **边框颜色：** 从淡粉色变为深粉色 `#ff9a8b`
- **阴影：** 增强，更明显
- **背景：** 从半透明变为更不透明

### 编号圆圈聚焦状态
- **大小：** 放大 1.1 倍
- **阴影：** 增强，更立体

### 模板按钮反馈
- **点击时：** 缩放到 0.95 倍
- **背景：** 加深，更明显
- **有聚焦输入框时：** 所有模板按钮边框变粉色

---

## 💡 使用技巧

### 技巧1：快速填写
1. 依次点击3个模板按钮
2. 系统会自动填入3个不同的输入框
3. 然后依次补充内容

### 技巧2：精准插入
1. 先点击想要填写的输入框
2. 再点击对应的模板按钮
3. 确保模板插入到正确的位置

### 技巧3：修改模板
1. 点击模板按钮插入前缀
2. 如果不喜欢，可以手动删除
3. 再点击其他模板按钮

---

## 📊 与原版本对比

| 功能 | 原版本 | 新版本 |
|------|--------|--------|
| **插入位置** | 固定第1个输入框 | 智能识别（聚焦/空白） |
| **光标定位** | 无自动定位 | 自动定位到前缀后方 |
| **聚焦反馈** | 无明显反馈 | 边框、阴影、编号放大 |
| **防止覆盖** | 会覆盖已有内容 | 智能判断，不重复插入 |
| **点击反馈** | 无明显反馈 | 缩放动画，背景加深 |
| **Placeholder** | 统一文案 | 每个输入框不同提示 |

---

## ✅ 功能验收

### 基础功能
- ✅ 点击模板按钮，能正确插入模板前缀
- ✅ 优先插入到当前聚焦的输入框
- ✅ 无聚焦时，插入到第一个空白输入框
- ✅ 所有输入框都有内容时，插入到第一个输入框
- ✅ 不会重复插入相同的模板前缀

### 交互体验
- ✅ 模板插入后，光标自动定位在前缀后方
- ✅ 输入框聚焦时有视觉反馈（边框、阴影）
- ✅ 编号圆圈聚焦时有放大效果
- ✅ 模板按钮点击时有缩放反馈
- ✅ 整体交互流畅，无卡顿

### 用户体验
- ✅ 不会覆盖用户已输入的内容
- ✅ Placeholder 提示清晰温柔
- ✅ 视觉风格统一，符合治愈系设计
- ✅ 操作逻辑符合用户直觉

---

## 🐛 常见问题

### Q1: 为什么点击模板按钮没有反应？
**A:** 可能是所有输入框都已有相同的模板前缀。系统会自动聚焦该输入框，不会重复插入。

### Q2: 如何更换输入框的模板前缀？
**A:** 手动删除当前内容，然后点击其他模板按钮即可。

### Q3: 为什么模板插入到了第1个输入框？
**A:** 因为其他输入框都已有内容，系统默认插入到第1个输入框。你可以先点击想要填写的输入框，再点击模板按钮。

### Q4: 光标位置不对怎么办？
**A:** 可以手动点击输入框调整光标位置。系统会自动记录光标位置。

---

## 🎯 最佳实践

### 推荐流程1：快速记录
```
1. 点击"🙏 今天我感激的是…" → 自动填入第1个输入框
2. 输入内容："家人的关心"
3. 点击"💝 让我微笑的瞬间…" → 自动填入第2个输入框
4. 输入内容："下班路上的夕阳"
5. 点击"🌸 温暖我的人或事…" → 自动填入第3个输入框
6. 输入内容："同事请我喝咖啡"
```

### 推荐流程2：精准填写
```
1. 点击第2个输入框（聚焦）
2. 点击"💝 让我微笑的瞬间…" → 插入到第2个输入框
3. 输入内容："下班路上的夕阳"
4. 点击第1个输入框（聚焦）
5. 点击"🙏 今天我感激的是…" → 插入到第1个输入框
6. 输入内容："家人的关心"
```

---

## 💝 温馨提示

- 不需要填满3个输入框，写1-2个就很好
- 模板只是引导，可以自由修改
- 重要的是记录真实的感受，而不是完美的文案
- 每天坚持记录，你会看到生活中越来越多的美好

---

**版本：** v3.1 - 感恩小事交互优化  
**更新时间：** 2025-11-17  
**适用于：** 今日感恩小事 & 今日小成就模块

