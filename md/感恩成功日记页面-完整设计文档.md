# 🌸 今日心灵日记 - 感恩成功日记完整设计文档

## 📋 设计概览

本次升级将"情绪记录"页面全面改造为**"感恩日记 + 成功日记"**的疗愈记录页面，让用户每天记录情绪的同时，也能写下感恩事件和成功事件，增强幸福感、陪伴感和持续使用意愿。

---

## 🎯 核心升级点

### 1. 页面定位升级
- **原定位：** 情绪记录工具
- **新定位：** 每日心灵日记（情绪 + 感恩 + 成功）
- **核心价值：** 记录情绪 · 感恩生活 · 看见成长

### 2. 新增核心模块
1. ⚡ **今日能量指数** - 星级评分组件（1-5星）
2. 🙏 **今日感恩小事** - 3个输入行 + 4个快速模板
3. 🌟 **今日小成就** - 3个输入行 + 4个快速模板
4. ✍️ **自由输入区** - 记录更多想法和心情

### 3. 保留并优化的模块
- 🎈 情绪选择（12种情绪）
- 🌟 情绪温柔反馈（自动生成）
- 💝 温暖一句（顶部卡片）
- 🏷️ 标签选择（新增"成功"标签）
- 🌙 温柔回声（AI回应）

---

## 📱 完整页面结构

```
┌─────────────────────────────────────┐
│  🌸 今日心灵日记                      │
│  记录情绪 · 感恩生活 · 看见成长        │
├─────────────────────────────────────┤
│  💝 温暖一句卡片                      │
│  "你的感受是真实的，值得被看见"        │
│  [✨ 换一句温暖]                      │
├─────────────────────────────────────┤
│  🎈 此刻的你，感觉如何？               │
│  轻轻点一下，说出你的感受              │
│  [😊][🤩][😌][🙏]                   │
│  [😢][😰][😠][😴]                   │
│  [😕][😔][😫][🕊️]                  │
├─────────────────────────────────────┤
│  🌟 真好，看到你开心的样子 ✨          │  ← 情绪反馈
├─────────────────────────────────────┤
│  ⚡ 今日能量指数                      │
│  轻点星星，感受今天的能量状态          │
│  [⭐][⭐][⭐][☆][☆]                 │
│  状态还不错，继续保持 ☀️              │
├─────────────────────────────────────┤
│  🙏 今日感恩小事                      │
│  写下让你心怀感激的瞬间                │
│  [🙏今天我感激的是…][💝让我微笑的瞬间…]│
│  [🌸温暖我的人或事…][☀️今天的小确幸…] │
│  ┌───────────────────────────────┐  │
│  │ ① 今天我感激的是…              │  │
│  ├───────────────────────────────┤  │
│  │ ② 今天我感激的是…              │  │
│  ├───────────────────────────────┤  │
│  │ ③ 今天我感激的是…              │  │
│  └───────────────────────────────┘  │
├─────────────────────────────────────┤
│  🌟 今日小成就                        │
│  记录你的进步与坚持                    │
│  [🌟我做得好的事…][💪我坚持的一件事…] │
│  [🎯我完成的小目标…][✨我进步的地方…] │
│  ┌───────────────────────────────┐  │
│  │ ① 我做得好的事情是…            │  │
│  ├───────────────────────────────┤  │
│  │ ② 我做得好的事情是…            │  │
│  ├───────────────────────────────┤  │
│  │ ③ 我做得好的事情是…            │  │
│  └───────────────────────────────┘  │
├─────────────────────────────────────┤
│  ✍️ 还想说些什么吗？                  │
│  自由记录此刻的心情和想法              │
│  ┌───────────────────────────────┐  │
│  │ 今天的心情、想法、或是想对自己说的话…│
│  │                                 │  │
│  └───────────────────────────────┘  │
│  0/500                               │
├─────────────────────────────────────┤
│  🏷️ 为这一刻添加标签                  │
│  可选，帮你更好地回顾                  │
│  [💼工作][📚学习][🙏感恩][🎯成功]    │
│  [✨小确幸]...                        │
├─────────────────────────────────────┤
│  [📖 查看历史] [💝 保存今日日记]      │
├─────────────────────────────────────┤
│  需要一段温柔的回声吗？                │
│  [🌙 收到一段温柔回声]                │
├─────────────────────────────────────┤
│  🌙 来自心岛的温柔回声                │
│  ─────────────────────────────────  │
│  （AI回复内容）                       │
│  ─────────────────────────────────  │
│  💝 你被温柔地看见了                  │
└─────────────────────────────────────┘
```

---

## 📝 全部文案优化

### 页面标题
- **新标题：** 🌸 今日心灵日记
- **新副标题：** 记录情绪 · 感恩生活 · 看见成长

### 能量指数模块
- **标题：** ⚡ 今日能量指数
- **副标题：** 轻点星星，感受今天的能量状态

**能量提示文案（5档）：**
- 0星：还没有评估哦
- 1星：今天有点累，需要好好休息 🌙
- 2星：能量不太足，慢慢来就好 🌱
- 3星：状态还不错，继续保持 ☀️
- 4星：能量满满，真棒！✨
- 5星：超级充沛，今天太棒了！🌟

### 感恩小事模块
- **标题：** 🙏 今日感恩小事
- **副标题：** 写下让你心怀感激的瞬间

**快速模板（4个）：**
1. 🙏 今天我感激的是…
2. 💝 让我微笑的瞬间…
3. 🌸 温暖我的人或事…
4. ☀️ 今天的小确幸…

**输入框 Placeholder：** 今天我感激的是…

### 小成就模块
- **标题：** 🌟 今日小成就
- **副标题：** 记录你的进步与坚持

**快速模板（4个）：**
1. 🌟 我做得好的事…
2. 💪 我坚持的一件事…
3. 🎯 我完成的小目标…
4. ✨ 我进步的地方…

**输入框 Placeholder：** 我做得好的事情是…

### 自由输入区
- **标题：** ✍️ 还想说些什么吗？
- **副标题：** 自由记录此刻的心情和想法

**Placeholder：**
```
今天的心情、想法、或是想对自己说的话…

比如：今天虽然有点累，但完成了一件重要的事，为自己骄傲 💪
```

### 标签区
- **新增标签：** 🎯 成功（原有"感恩"和"小确幸"保留）

### 按钮文案
- **查看历史：** 📖 查看历史
- **保存按钮：** 💝 保存今日日记
- **温柔回声提示：** 需要一段温柔的回声吗？
- **温柔回声按钮：** 🌙 收到一段温柔回声
- **加载中状态：** 💭 心岛正在倾听…

### AI回声区域
- **标题：** 🌙 来自心岛的温柔回声
- **底部文案：** 💝 你被温柔地看见了

### Toast提示
- **保存成功：** 今日日记已温柔记录 💝
- **加载中：** 正在温柔记录...

---

## 🎨 UI/视觉设计

### 配色方案（治愈系）

**主色调：温柔粉 + 奶油黄 + 浅蓝 + 淡紫**

| 模块 | 配色 | 用途 |
|------|------|------|
| 页面头部 | `#fffbf5` → `#ffffff` | 渐变背景 |
| 温暖一句 | `#fff5f7` → `#ffe8ec` | 淡粉渐变 |
| 情绪反馈 | `#fffbf0` → `#fff5e6` | 奶油黄渐变 |
| 能量指数 | `#fff9e6` → `#fff4d9` | 暖黄渐变 |
| 感恩小事 | `#fff5f7` → `#ffe8ec` | 淡粉渐变 |
| 小成就 | `#f0f9ff` → `#e0f2fe` | 浅蓝渐变 |
| 自由输入 | `#fef9f5` → `#fdf5ef` | 米白渐变 |
| 温柔回声按钮 | `#e8d5ff` → `#d4bbff` | 淡紫渐变 |
| 保存按钮 | `#ff9a8b` → `#ff6b9d` | 暖橘粉渐变 |

**强调色：**
- 主要强调：`#ff9a8b`（暖橘粉）
- 次要强调：`#b8a3d6`（淡紫）
- 编号圆圈：`#ffb6c1` → `#ff8fa3`（粉色渐变）

### 圆角与阴影
- **卡片圆角：** 24rpx
- **按钮圆角：** 50rpx（完全圆角）
- **输入框圆角：** 16rpx
- **小按钮圆角：** 12rpx
- **编号圆圈：** 50%（完全圆形）
- **阴影：** 更轻柔，透明度 0.1-0.15

### 动画效果
1. **温暖一句图标：** 心跳动画（pulse，2秒循环）
2. **情绪反馈：** 淡入动画（fadeIn，0.5秒）
3. **能量星星：** 点击时放大动画（starPulse，0.5秒）
4. **按钮点击：** scale(0.95) 缩放反馈
5. **输入框聚焦：** 边框颜色渐变 + 阴影出现

### 字体与间距
- **页面标题：** 56rpx，加粗 600
- **副标题：** 26rpx，颜色 `#ff9a8b`
- **区块标题：** 32rpx，加粗 600
- **区块副标题：** 24rpx，颜色 `#999999`
- **正文：** 28rpx，行高 1.6-1.8
- **小字：** 22-24rpx
- **卡片内边距：** 36rpx 32rpx
- **卡片间距：** 24rpx

---

## 💻 技术实现要点

### 新增数据字段（emotion.js）

```javascript
data: {
  // ... 原有字段
  energyLevel: 0,              // 今日能量指数 (0-5)
  gratitudeItems: ["", "", ""], // 3个感恩事项
  successItems: ["", "", ""],   // 3个成功事项
  
  // 感恩快速模板（4个）
  gratitudeTemplates: [
    { id: "grateful1", icon: "🙏", label: "今天我感激的是…", text: "今天我感激的是：" },
    { id: "grateful2", icon: "💝", label: "让我微笑的瞬间…", text: "让我微笑的瞬间：" },
    { id: "grateful3", icon: "🌸", label: "温暖我的人或事…", text: "温暖我的人或事：" },
    { id: "grateful4", icon: "☀️", label: "今天的小确幸…", text: "今天的小确幸：" },
  ],
  
  // 成功快速模板（4个）
  successTemplates: [
    { id: "success1", icon: "🌟", label: "我做得好的事…", text: "我做得好的事：" },
    { id: "success2", icon: "💪", label: "我坚持的一件事…", text: "我坚持的一件事：" },
    { id: "success3", icon: "🎯", label: "我完成的小目标…", text: "我完成的小目标：" },
    { id: "success4", icon: "✨", label: "我进步的地方…", text: "我进步的地方：" },
  ],
}
```

### 新增方法

1. **setEnergyLevel(e)** - 设置能量指数（1-5星）
2. **insertGratitudeTemplate(e)** - 插入感恩模板到对应输入框
3. **onGratitudeInput(e)** - 处理感恩事项输入
4. **insertSuccessTemplate(e)** - 插入成功模板到对应输入框
5. **onSuccessInput(e)** - 处理成功事项输入

### 数据库保存结构

```javascript
{
  emotionId: "happy",
  emotionName: "开心",
  emotionIcon: "😊",
  energyLevel: 4,                    // 新增
  gratitudeItems: ["...", "..."],    // 新增（过滤空值）
  successItems: ["...", "..."],      // 新增（过滤空值）
  description: "...",
  tags: ["work", "gratitude", "success"],
  createTime: serverDate()
}
```

---

## ✅ 功能验收标准

### 核心功能
- ✅ 能量指数可点击星星评分（1-5星）
- ✅ 点击星星时有动画反馈
- ✅ 能量指数显示对应的提示文案
- ✅ 感恩小事有3个独立输入框
- ✅ 感恩快速模板可点击插入到输入框
- ✅ 小成就有3个独立输入框
- ✅ 成功快速模板可点击插入到输入框
- ✅ 保存时过滤掉空的感恩和成功事项
- ✅ 新增"成功"标签
- ✅ 所有文案已更新为疗愈风格
- ✅ 完全移除"AI"字眼，改用"温柔回声"

### 视觉一致性
- ✅ 配色统一为治愈系（粉+黄+蓝+紫）
- ✅ 圆角统一（卡片24rpx，按钮50rpx）
- ✅ 编号圆圈使用粉色渐变
- ✅ 输入框有聚焦效果
- ✅ 动画流畅自然

### 用户体验
- ✅ 页面流程清晰：情绪 → 能量 → 感恩 → 成功 → 自由输入 → 标签 → 保存
- ✅ 感恩和成功模块结构化展示
- ✅ 快速模板降低记录门槛
- ✅ 整体氛围温柔、疗愈、有陪伴感

---

## 🎁 设计亮点

### 1. 结构化记录
- 3个感恩事项 + 3个成功事项，结构清晰
- 编号圆圈设计，视觉引导明确
- 快速模板降低记录门槛

### 2. 能量可视化
- 星级评分直观易懂
- 动态提示文案增强反馈
- 点击动画增强互动感

### 3. 治愈系配色
- 每个模块有独特的渐变色
- 整体色调温柔、舒适
- 强调色使用暖橘粉，温暖有力量

### 4. 陪伴式文案
- 完全移除"AI"字眼
- 使用"心岛"、"温柔回声"等温暖表达
- 每个模块都有温柔的引导语

---

## 📊 与原版本对比

| 维度 | 原版本 | 新版本 |
|------|--------|--------|
| 页面定位 | 情绪记录工具 | 每日心灵日记 |
| 核心功能 | 情绪 + 文字 + 标签 | 情绪 + 能量 + 感恩 + 成功 + 文字 |
| 输入方式 | 1个自由输入框 | 3个感恩 + 3个成功 + 1个自由输入 |
| 快速模板 | 3个通用模板 | 4个感恩模板 + 4个成功模板 |
| 标签数量 | 12个 | 13个（新增"成功"） |
| 配色风格 | 单一粉色系 | 多彩治愈系（粉+黄+蓝+紫） |
| 文案风格 | 温柔疗愈 | 更加陪伴式、结构化 |

---

**设计完成时间：** 2025-11-17  
**设计版本：** v3.0 - 感恩成功日记版  
**设计师：** Augment Agent

