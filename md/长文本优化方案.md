# ğŸ“ é•¿æ–‡æœ¬ä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

æ”¯æŒç”¨æˆ·è¾“å…¥è¾ƒé•¿çš„æ„Ÿæ©å’ŒæˆåŠŸè®°å½•ï¼ŒåŒæ—¶ä¿æŒç•Œé¢æ•´æ´å’Œæ˜“è¯»æ€§ã€‚

---

## ğŸ“‹ æ ¸å¿ƒéœ€æ±‚

### 1. ç¼–è¾‘çŠ¶æ€ä¼˜åŒ–
- ä½¿ç”¨ `textarea` æ›¿ä»£ `input`ï¼Œæ”¯æŒå¤šè¡Œè¾“å…¥
- è‡ªåŠ¨æ¢è¡Œå’Œé«˜åº¦è‡ªé€‚åº”
- è®¾ç½®åˆç†çš„æœ€å¤§å­—æ•°ï¼ˆ80-100å­—ï¼‰
- æ˜¾ç¤ºå­—æ•°ç»Ÿè®¡å’Œå‹å¥½æç¤º

### 2. å±•ç¤ºçŠ¶æ€ä¼˜åŒ–
- é»˜è®¤åªæ˜¾ç¤ºæœ€å¤šä¸¤è¡Œæ–‡å­—
- è¶…å‡ºéƒ¨åˆ†ä½¿ç”¨çœç•¥å·æˆªæ–­
- æä¾›"å±•å¼€/æ”¶èµ·"æŒ‰é’®
- ç‚¹å‡»åå¯æŸ¥çœ‹å®Œæ•´å†…å®¹

### 3. ç”¨æˆ·å¼•å¯¼
- è¾“å…¥æ¡†ä¸‹æ–¹æ˜¾ç¤ºå­—æ•°ç»Ÿè®¡
- æä¾›æ¸©æŸ”çš„æç¤ºè¯­ï¼š"å†™1-2å¥è¯å°±å¥½ï¼Œè®°å½•æœ€çœŸå®çš„æ„Ÿå— ğŸ’"
- æ¥è¿‘å­—æ•°é™åˆ¶æ—¶ç»™äºˆæç¤º

---

## ğŸ’» æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### æ•°æ®ç»“æ„ä¼˜åŒ–

```javascript
data: {
  // åŸæœ‰å­—æ®µ
  gratitudeItems: ["", "", ""],
  successItems: ["", "", ""],
  
  // æ–°å¢ï¼šå±•å¼€/æ”¶èµ·çŠ¶æ€
  gratitudeExpandStates: [false, false, false],  // æ¯æ¡è®°å½•çš„å±•å¼€çŠ¶æ€
  successExpandStates: [false, false, false],
  
  // å­—æ•°é™åˆ¶
  maxTextLength: 100,  // æœ€å¤§å­—æ•°
}
```

### æ ¸å¿ƒæ–¹æ³•

#### 1. åˆ‡æ¢å±•å¼€/æ”¶èµ·çŠ¶æ€

```javascript
// åˆ‡æ¢æ„Ÿæ©è®°å½•çš„å±•å¼€çŠ¶æ€
toggleGratitudeExpand(e) {
  const index = e.currentTarget.dataset.index;
  const gratitudeExpandStates = [...this.data.gratitudeExpandStates];
  gratitudeExpandStates[index] = !gratitudeExpandStates[index];
  this.setData({ gratitudeExpandStates });
},

// åˆ‡æ¢æˆåŠŸè®°å½•çš„å±•å¼€çŠ¶æ€
toggleSuccessExpand(e) {
  const index = e.currentTarget.dataset.index;
  const successExpandStates = [...this.data.successExpandStates];
  successExpandStates[index] = !successExpandStates[index];
  this.setData({ successExpandStates });
},
```

#### 2. å­—æ•°ç»Ÿè®¡

```javascript
// è·å–å­—æ•°ç»Ÿè®¡æ–‡æœ¬
getCharCountText(text, maxLength) {
  const length = text ? text.length : 0;
  const remaining = maxLength - length;
  
  if (remaining <= 10) {
    return `è¿˜å¯ä»¥å†™ ${remaining} å­—`;
  }
  return `${length}/${maxLength}`;
},
```

---

## ğŸ¨ UI è®¾è®¡

### ç¼–è¾‘çŠ¶æ€ï¼ˆtextareaï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‘  ä»Šå¤©æˆ‘æ„Ÿæ¿€çš„æ˜¯ï¼šå®¶äººçš„å…³å¿ƒï¼ŒåŒäº‹  â”‚
â”‚   çš„å¸®åŠ©ï¼Œè¿˜æœ‰ä¸‹ç­è·¯ä¸Šçœ‹åˆ°çš„ç¾ä¸½å¤•  â”‚
â”‚   é˜³ï¼Œè®©æˆ‘æ„Ÿåˆ°æ¸©æš–å’Œå¹¸ç¦ã€‚          â”‚
â”‚                                     â”‚
â”‚   ğŸ’¬ å†™1-2å¥è¯å°±å¥½ Â· 45/100        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å±•ç¤ºçŠ¶æ€ï¼ˆæ”¶èµ·ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‘  ä»Šå¤©æˆ‘æ„Ÿæ¿€çš„æ˜¯ï¼šå®¶äººçš„å…³å¿ƒï¼ŒåŒäº‹  â”‚
â”‚   çš„å¸®åŠ©ï¼Œè¿˜æœ‰ä¸‹ç­è·¯ä¸Šçœ‹åˆ°çš„ç¾ä¸½... â”‚
â”‚                          [å±•å¼€ â–¼]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å±•ç¤ºçŠ¶æ€ï¼ˆå±•å¼€ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‘  ä»Šå¤©æˆ‘æ„Ÿæ¿€çš„æ˜¯ï¼šå®¶äººçš„å…³å¿ƒï¼ŒåŒäº‹  â”‚
â”‚   çš„å¸®åŠ©ï¼Œè¿˜æœ‰ä¸‹ç­è·¯ä¸Šçœ‹åˆ°çš„ç¾ä¸½å¤•  â”‚
â”‚   é˜³ï¼Œè®©æˆ‘æ„Ÿåˆ°æ¸©æš–å’Œå¹¸ç¦ã€‚          â”‚
â”‚                          [æ”¶èµ· â–²]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± WXML ç»“æ„

### ç¼–è¾‘çŠ¶æ€ï¼ˆä½¿ç”¨ textareaï¼‰

```xml
<view class="input-item {{gratitudeFocusStates[index] ? 'focused' : ''}}">
  <view class="item-number {{gratitudeFocusStates[index] ? 'focused' : ''}}">
    {{index + 1}}
  </view>
  <view class="item-content">
    <textarea
      class="item-textarea"
      placeholder="{{index === 0 ? 'ä»Šå¤©æˆ‘æ„Ÿæ¿€çš„æ˜¯â€¦' : index === 1 ? 'è®©æˆ‘å¾®ç¬‘çš„ç¬é—´â€¦' : 'æ¸©æš–æˆ‘çš„äººæˆ–äº‹â€¦'}}"
      placeholder-class="input-placeholder"
      value="{{item}}"
      focus="{{gratitudeFocusStates[index]}}"
      cursor="{{gratitudeCursorPositions[index]}}"
      bindinput="onGratitudeInput"
      bindfocus="onGratitudeFocus"
      bindblur="onGratitudeBlur"
      data-index="{{index}}"
      maxlength="{{maxTextLength}}"
      auto-height="{{true}}"
      adjust-position="{{true}}"
      show-confirm-bar="{{false}}"
    />
    <view class="char-count {{item.length >= maxTextLength - 10 ? 'warning' : ''}}">
      <text class="char-hint">ğŸ’¬ å†™1-2å¥è¯å°±å¥½</text>
      <text class="char-number">{{item.length}}/{{maxTextLength}}</text>
    </view>
  </view>
</view>
```

---

## ğŸ¨ WXSS æ ·å¼

### åŸºç¡€æ ·å¼

```css
/* è¾“å…¥é¡¹å®¹å™¨ */
.input-item {
  display: flex;
  align-items: flex-start;  /* æ”¹ä¸ºé¡¶éƒ¨å¯¹é½ */
  margin-bottom: 16rpx;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 16rpx;
  padding: 16rpx 20rpx;
  border: 2rpx solid rgba(255, 182, 193, 0.1);
  transition: all 0.3s ease;
}

/* ç¼–å·åœ†åœˆ */
.item-number {
  width: 48rpx;
  height: 48rpx;
  border-radius: 50%;
  background: linear-gradient(135deg, #ffb6c1 0%, #ff8fa3 100%);
  color: #ffffff;
  font-size: 24rpx;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 16rpx;
  margin-top: 4rpx;  /* å¾®è°ƒå¯¹é½ */
  flex-shrink: 0;
  transition: all 0.3s ease;
}

/* å†…å®¹å®¹å™¨ */
.item-content {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Textarea æ ·å¼ */
.item-textarea {
  width: 100%;
  font-size: 28rpx;
  color: #333333;
  line-height: 1.6;
  min-height: 44rpx;
  max-height: 200rpx;
}

/* å­—æ•°ç»Ÿè®¡ */
.char-count {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 8rpx;
  font-size: 22rpx;
  color: #999999;
}

.char-hint {
  color: #b8a3d6;
}

.char-number {
  color: #999999;
}

/* å­—æ•°è­¦å‘Š */
.char-count.warning .char-number {
  color: #ff9a8b;
  font-weight: 600;
}

/* å±•å¼€/æ”¶èµ·æŒ‰é’® */
.expand-btn {
  align-self: flex-end;
  margin-top: 8rpx;
  padding: 4rpx 12rpx;
  font-size: 22rpx;
  color: #b8a3d6;
  background: rgba(184, 163, 214, 0.1);
  border-radius: 8rpx;
  display: flex;
  align-items: center;
  gap: 4rpx;
  transition: all 0.3s;
}

.expand-btn:active {
  transform: scale(0.95);
  background: rgba(184, 163, 214, 0.2);
}

.expand-icon {
  font-size: 20rpx;
  transition: transform 0.3s;
}

.expand-icon.expanded {
  transform: rotate(180deg);
}

/* æ–‡æœ¬æˆªæ–­ï¼ˆæ”¶èµ·çŠ¶æ€ï¼‰ */
.item-text {
  font-size: 28rpx;
  color: #333333;
  line-height: 1.6;
  word-break: break-all;
}

.item-text.collapsed {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  text-overflow: ellipsis;
}

.item-text.expanded {
  /* å®Œæ•´æ˜¾ç¤º */
}
```

---

## âœ… åŠŸèƒ½éªŒæ”¶æ ‡å‡†

### ç¼–è¾‘çŠ¶æ€
- âœ… ä½¿ç”¨ textarea æ”¯æŒå¤šè¡Œè¾“å…¥
- âœ… è‡ªåŠ¨æ¢è¡Œå’Œé«˜åº¦è‡ªé€‚åº”
- âœ… æœ€å¤§å­—æ•°é™åˆ¶ä¸º 100 å­—
- âœ… æ˜¾ç¤ºå­—æ•°ç»Ÿè®¡ï¼ˆå¦‚ï¼š45/100ï¼‰
- âœ… æ˜¾ç¤ºå‹å¥½æç¤ºï¼š"ğŸ’¬ å†™1-2å¥è¯å°±å¥½"
- âœ… æ¥è¿‘å­—æ•°é™åˆ¶æ—¶ï¼ˆå‰©ä½™â‰¤10å­—ï¼‰æç¤ºå˜çº¢

### å±•ç¤ºçŠ¶æ€
- âœ… é»˜è®¤åªæ˜¾ç¤ºæœ€å¤šä¸¤è¡Œæ–‡å­—
- âœ… è¶…å‡ºéƒ¨åˆ†ä½¿ç”¨çœç•¥å·æˆªæ–­
- âœ… æä¾›"å±•å¼€ â–¼"æŒ‰é’®
- âœ… ç‚¹å‡»åæ˜¾ç¤ºå®Œæ•´å†…å®¹
- âœ… å±•å¼€åæŒ‰é’®å˜ä¸º"æ”¶èµ· â–²"
- âœ… å†æ¬¡ç‚¹å‡»å¯ä»¥æ”¶èµ·

### ç”¨æˆ·ä½“éªŒ
- âœ… ç¼–è¾‘å’Œå±•ç¤ºçŠ¶æ€åˆ‡æ¢æµç•…
- âœ… è§†è§‰é£æ ¼ç»Ÿä¸€ï¼Œç¬¦åˆæ²»æ„ˆç³»è®¾è®¡
- âœ… å­—æ•°ç»Ÿè®¡ä¸å¹²æ‰°è¾“å…¥ä½“éªŒ
- âœ… å±•å¼€/æ”¶èµ·åŠ¨ç”»æµç•…è‡ªç„¶

---

## ğŸ“Š ä¼˜åŒ–å‰åå¯¹æ¯”

| ç»´åº¦ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| **è¾“å…¥æ–¹å¼** | input å•è¡Œ | textarea å¤šè¡Œ |
| **å­—æ•°é™åˆ¶** | 100å­— | 100å­—ï¼ˆæœ‰æç¤ºï¼‰ |
| **é«˜åº¦** | å›ºå®š | è‡ªé€‚åº” |
| **å­—æ•°ç»Ÿè®¡** | æ—  | æœ‰ï¼ˆ45/100ï¼‰ |
| **ç”¨æˆ·å¼•å¯¼** | æ—  | "å†™1-2å¥è¯å°±å¥½" |
| **å±•ç¤ºæ–¹å¼** | å®Œæ•´æ˜¾ç¤º | é»˜è®¤2è¡Œ+å±•å¼€ |
| **é•¿æ–‡æœ¬å¤„ç†** | æ— ä¼˜åŒ– | å±•å¼€/æ”¶èµ·åŠŸèƒ½ |

---

**ç‰ˆæœ¬ï¼š** v3.2 - é•¿æ–‡æœ¬ä¼˜åŒ–  
**åˆ›å»ºæ—¶é—´ï¼š** 2025-11-17

