<!-- pages/behavior-strength/behavior-strength-report.wxml -->

<view class="container">
  <view class="history-entry" bindtap="handleHistoryNav" aria-label="历史记录">
    <view class="history-entry-card">
      <view class="history-icon history-icon-clipboard">
        <view class="clipboard-tab"></view>
        <view class="clipboard-body"></view>
        <view class="clipboard-line clipboard-line-1"></view>
        <view class="clipboard-line clipboard-line-2"></view>
      </view>
      <text class="history-entry-text">历史记录</text>
    </view>
  </view>

  <view class="title">你的优势画像</view>

  <canvas canvas-id="radarCanvas" class="radar" width="320" height="320"></canvas>

  <view class="result-list">
    <view wx:for="{{resultList}}" wx:key="key" class="result-item">
      <view class="result-header">
        <text class="result-name">{{item.name}}</text>
        <view class="result-meta">
          <text class="result-score">{{item.score}}</text>
          <text class="result-level">{{item.level}}</text>
        </view>
      </view>
      <view class="energy-bar energy-{{item.levelKey}}">
        <view class="energy-fill" style="width: {{item.percent}}%"></view>
        <text class="energy-percent">{{item.percent}}%</text>
      </view>
      <text class="result-desc">{{item.description}}</text>
      <view wx:if="{{item.detail}}" class="detail-list">
        <view class="detail-item">
          <text class="detail-label">典型表现</text>
          <text class="detail-text">{{item.detail.typical}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">优势价值</text>
          <text class="detail-text">{{item.detail.value}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">可能盲区</text>
          <text class="detail-text">{{item.detail.blindspot}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">微行动建议</text>
          <text class="detail-text">{{item.detail.action}}</text>
        </view>
      </view>
    </view>
  </view>

  <view class="top-title">TOP 3 优势</view>
  <view class="top-list">
    <view wx:for="{{topStrengths}}" wx:key="*this" class="top-item">
      {{item}}
    </view>
  </view>

  <view class="actions">
    <button class="btn" bindtap="handleRestart">再测一次</button>
  </view>
</view>
