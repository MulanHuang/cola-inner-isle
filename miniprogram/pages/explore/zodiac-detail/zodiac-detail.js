// pages/explore/zodiac-detail/zodiac-detail.js
const STAR_INDEXES = [0, 1, 2, 3, 4];
const FORTUNE_CACHE_KEY = "zodiac.fortuneCache";
const DAILY_BEHAVIOR_KEY = "zodiac.dailyBehavior";

const ZODIAC_PROFILES = {
  aries: {
    name: "ç™½ç¾Šåº§",
    icon: "â™ˆ",
    date: "3.21-4.19",
    desc: "çƒ­æƒ…ã€ç§¯æã€å‹‡æ•¢çš„å¼€æ‹“è€…",
    analysis: {
      basic:
        "ç™½ç¾Šåº§çš„èƒ½é‡åƒä¸€æŸç›´çº¿çš„ç«å…‰ï¼Œè¡ŒåŠ¨è¿…é€Ÿã€æ€ç»´ç›´æ¥ï¼Œå–œæ¬¢ç”¨ç»“æœè¯æ˜è‡ªå·±ã€‚ä½ æœ‰å¾ˆå¼ºçš„è‡ªæˆ‘é©±åŠ¨åŠ›ï¼Œä¸å–œæ¬¢è¢«æŸç¼šï¼Œè¶Šæ˜¯æœ‰æŒ‘æˆ˜çš„ç›®æ ‡è¶Šèƒ½æ¿€å‘æ–—å¿—ã€‚æ¯”å¦‚å·¥ä½œä¸­é‡åˆ°æ–°é¡¹ç›®ï¼Œä½ é€šå¸¸ä¼šç¬¬ä¸€ä¸ªä¸¾æ‰‹è¯•æ°´ï¼Œè¾¹åšè¾¹æ‘¸ç´¢ï¼Œå¿«é€ŸæŠŠäº‹æƒ…æ¨èµ·æ¥ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­æ›´æ„¿æ„å†²åœ¨ç¬¬ä¸€çº¿äº‰å–èµ„æºã€‚",
      specific:
        "ä½œä¸ºé»„é“åäºŒå®«çš„å¼€ç«¯ï¼Œç™½ç¾Šåº§è±¡å¾â€œå¼€å§‹â€ã€‚ä½ ä¹ æƒ¯ç”¨ç¬¬ä¸€ååº”åšåˆ¤æ–­ï¼Œæ“…é•¿å¼€å¯æ–°å±€é¢ï¼Œå“ªæ€•ç»éªŒä¸è¶³ä¹Ÿæ„¿æ„å…ˆä¸Šåœºå†è°ƒæ•´ã€‚ç”Ÿæ´»ä¸­ä½ ä¼šæ›´æ„¿æ„å…ˆåšå‡ºå†³å®šï¼Œæ¯”å¦‚ç›´æ¥æŠ¥åè¯¾ç¨‹ã€ä¸»åŠ¨å‘èµ·æ´»åŠ¨ï¼Œå†åœ¨è¿‡ç¨‹ä¸­ä¸æ–­ä¿®æ­£æ–¹å‘ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šå–œæ¬¢å…ˆåŠ¨æ‰‹å®è·µï¼Œå†å›å¤´è¡¥ç†è®ºã€‚",
      style:
        "è¡Œäº‹é£æ ¼åâ€œå¿«ã€å‡†ã€å†²â€ï¼Œå–œæ¬¢è¾¹åšè¾¹å­¦ã€‚é‡åˆ°é—®é¢˜æ—¶æ›´å€¾å‘äºå…ˆè§£å†³å†å¤ç›˜ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œä½†éœ€è¦æ³¨æ„èŠ‚å¥çš„å¯æŒç»­æ€§ã€‚æ¯”å¦‚ä¸´æ—¶ä»»åŠ¡å †ç§¯æ—¶ä½ ä¼šå…ˆæŠŠæœ€ç´§æ€¥çš„å®Œæˆï¼Œå†å›å¤´è¡¥ç»†èŠ‚ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œå€¾å‘ç›´æ¥è¡¨è¾¾æ„Ÿå—å’Œéœ€æ±‚ã€‚",
      blind:
        "æƒ…ç»ªä¸Šå¤´æ—¶å®¹æ˜“å¿½ç•¥ç»†èŠ‚ï¼Œè€å¿ƒä¸è¶³å¯èƒ½è®©ä½ åœ¨é‡å¤æ€§ä»»åŠ¡ä¸Šæ„Ÿåˆ°ç–²æƒ«ã€‚é€‚å½“æ”¾æ…¢é€Ÿåº¦ã€ç•™å‡ºè§‚å¯Ÿæ—¶é—´ï¼Œä¼šè®©ä½ çš„æˆæœæ›´ç¨³ã€‚æ¯”å¦‚æ²Ÿé€šæ—¶å…ˆç¡®è®¤éœ€æ±‚å†è¡ŒåŠ¨ï¼Œä¼šå‡å°‘è¿”å·¥ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­æ³¨æ„å…ˆå¯¹é½ç›®æ ‡å†æ¨è¿›ï¼Œæ•ˆç‡æ›´é«˜ã€‚",
      summary:
        "ç™½ç¾Šåº§çš„é­…åŠ›åœ¨äºå‹‡æ•¢ä¸ç‡çœŸã€‚æŠŠå†²åŠ²ä¸è€å¿ƒç»“åˆï¼Œä½ çš„â€œå¼€æ‹“è€…â€èƒ½åŠ›ä¼šæ›´æŒä¹…ï¼Œä¹Ÿæ›´å®¹æ˜“è·å¾—é•¿æœŸæˆå°±ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ æ•¢ä¸»åŠ¨æ¥æ‰‹éš¾é¢˜å¹¶å¿«é€Ÿæ¨è¿›ï¼›å­¦ä¹ ä¸Šåå¥½å…ˆå®æ“å†æ€»ç»“ï¼›å…³ç³»é‡Œæ›´å€¾å‘ç›´æ¥è¡¨è¾¾ä¸å¿«é€Ÿå»ºç«‹é»˜å¥‘ã€‚",
    },
    traits: {
      expression: "ç›´æ¥æœæ•¢ï¼Œçƒ­æƒ…å¤–æ”¾ï¼Œè¡ŒåŠ¨é€Ÿåº¦å¿«ã€‚",
      strengths: "æ‰§è¡ŒåŠ›å¼ºï¼Œæ•¢äºå°è¯•æ–°äº‹ç‰©ã€‚",
      weaknesses: "å®¹æ˜“å†²åŠ¨ï¼Œè€å¿ƒä¸è¶³ã€‚",
    },
    style: "å–œæ¬¢å…ˆè¡ŒåŠ¨å†ä¼˜åŒ–ï¼Œé ç›´è§‰æ¨è¿›ç›®æ ‡ã€‚",
    blind: "æƒ…ç»ªä¸Šå¤´æ—¶å®¹æ˜“å¿½ç•¥ç»†èŠ‚ï¼Œéœ€è¦ç•™å‡ºç¼“å†²ã€‚",
    summary: "èŠ‚å¥æ”¾æ…¢ä¸€ç‚¹ï¼Œä¼˜åŠ¿ä¼šæ›´ç¨³å®šã€‚",
    quote: "æŒ‰ä¹ æƒ¯æœ‰åºåœ°è¿›è¡Œã€‚",
    facts: {
      max: "å‹‡æ•¢",
      element: "ç«",
      ruler: "ç«æ˜Ÿ",
      color: "çº¢è‰²",
      number: "9",
      match: "ç‹®å­åº§",
    },
    fortune: { overall: 4, love: 4, career: 4, wealth: 3, health: 4 },
    good: "ä¸»åŠ¨æ²Ÿé€š",
    bad: "è¿‡åº¦å‚¬ä¿ƒ",
  },
  taurus: {
    name: "é‡‘ç‰›åº§",
    icon: "â™‰",
    date: "4.20-5.20",
    desc: "ç¨³é‡ã€åŠ¡å®ã€å¯é çš„å®ˆæŠ¤è€…",
    analysis: {
      basic:
        "é‡‘ç‰›åº§çš„æ ¸å¿ƒæ˜¯ç¨³å®šä¸å®‰å…¨æ„Ÿã€‚ä½ åšäº‹è¸å®ã€é‡è§†ç°å®å›æŠ¥ï¼Œä¸å–œæ¬¢æµ®å¤¸å’Œä¸ç¡®å®šã€‚æ…¢çƒ­ä½†ä¸€æ—¦æŠ•å…¥ï¼Œå°±ä¼šéå¸¸å¯é ã€‚æ¯”å¦‚åœ¨å›¢é˜Ÿé‡Œä½ æ›´æ„¿æ„æŠŠæµç¨‹å’Œèµ„æºå®‰æ’å¥½ï¼Œå†ç¨³æ­¥æ¨è¿›ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­å¸¸å¸¸æ˜¯æŠŠå…³è´¨é‡å’ŒèŠ‚å¥çš„äººã€‚",
      specific:
        "é‡‘ç‰›åº§æ˜¯é»„é“å®«çš„ç¬¬äºŒå®«ï¼Œä»£è¡¨â€œæ‹¥æœ‰â€ã€‚ä½ æ“…é•¿ç§¯ç´¯èµ„æºã€æ‰“é€ åŸºç¡€ï¼Œé‡è§†ç”Ÿæ´»çš„è´¨æ„Ÿä¸ç§©åºï¼Œå¯¹ç¾å’Œèˆ’é€‚å¾ˆæ•æ„Ÿã€‚æ—¥å¸¸ä¸­ä½ ä¼šä¼˜å…ˆæŠŠå®¶é‡Œå’Œå·¥ä½œç¯å¢ƒå¸ƒç½®å¾—èˆ’æœï¼Œæ•ˆç‡ä¹Ÿå› æ­¤æ›´é«˜ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šå–œæ¬¢å›ºå®šçš„èŠ‚å¥ä¸ç¨³å®šçš„ç¯å¢ƒã€‚",
      style:
        "è¡Œäº‹é£æ ¼ç¨³å¥ã€å¾ªåºæ¸è¿›ï¼Œä¹ æƒ¯æŠŠç›®æ ‡æ‹†è§£æˆå¯æ‰§è¡Œçš„æ­¥éª¤ã€‚ä½ ä¸è¿½æ±‚é€Ÿåº¦ï¼Œä½†è¿½æ±‚å¯æŒç»­çš„æˆæœã€‚æ¯”å¦‚ä½ ä¼šå…ˆåšé¢„ç®—ã€åˆ—æ¸…å•ï¼Œå†ä¸€æ­¥æ­¥è½å®ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œåå‘ç»†æ°´é•¿æµçš„é™ªä¼´ã€‚",
      blind:
        "è¿‡åº¦è¿½æ±‚ç¨³å®šå¯èƒ½è®©ä½ é”™è¿‡å˜åŒ–å¸¦æ¥çš„æœºä¼šã€‚é€‚åº¦æ¥å—æ–°æ–¹æ³•ï¼Œä¼šè®©ä½ çš„åšæŒæ›´æœ‰å¼¹æ€§ã€‚æ¯”å¦‚åœ¨æ–°å·¥å…·æˆ–æ–°æµç¨‹å‡ºç°æ—¶ï¼Œç»™è‡ªå·±ä¸€ä¸ªè¯•ç”¨æœŸå†å†³å®šæ˜¯å¦é‡‡ç”¨ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­é‡åˆ°æ–°æ–¹å‘æ—¶ç»™è‡ªå·±ç•™å‡ºå°è¯•ç©ºé—´ã€‚",
      summary:
        "é‡‘ç‰›åº§çš„ä¼˜åŠ¿åœ¨äºè€å¿ƒä¸æŒä¹…ã€‚ç¨³ä¸­æ±‚å˜ï¼Œä½ çš„ä»·å€¼ä¼šè¢«æ›´å¤šäººçœ‹åˆ°ï¼Œä¹Ÿèƒ½ç§¯ç´¯æ›´é•¿è¿œçš„æˆæœã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ æ“…é•¿ç¨³å®šäº§å‡ºã€æŠŠæµç¨‹åšæ‰å®ï¼›å­¦ä¹ ä¸Šæ„¿æ„é‡å¤ç»ƒä¹ æ‰“åŸºç¡€ï¼›å…³ç³»é‡Œé‡è§†é•¿æœŸæŠ•å…¥ä¸å¯é é™ªä¼´ã€‚",
    },
    traits: {
      expression: "èŠ‚å¥ç¨³å®šï¼Œé‡è§†å®‰å…¨æ„Ÿä¸å®é™…ç»“æœã€‚",
      strengths: "è€å¿ƒå¼ºï¼Œæ‰§è¡ŒæŒä¹…ï¼Œå¯ä¿¡èµ–ã€‚",
      weaknesses: "è¾ƒæ…¢çƒ­ï¼Œå®¹æ˜“å›ºæ‰§ã€‚",
    },
    style: "æŒ‰éƒ¨å°±ç­æ¨è¿›ï¼Œå–„äºæŠŠèµ„æºç”¨åœ¨åˆ€åˆƒä¸Šã€‚",
    blind: "å®³æ€•å˜åŒ–æ—¶ä¼šé”™è¿‡æœºä¼šï¼Œéœ€è¦æ›´çµæ´»ã€‚",
    summary: "ç¨³ä¸­æ±‚å˜èƒ½å¸¦æ¥æ–°çš„çªç ´ã€‚",
    quote: "è®©æˆæœè¯´è¯ã€‚",
    facts: {
      max: "ç¨³é‡",
      element: "åœŸ",
      ruler: "é‡‘æ˜Ÿ",
      color: "ç»¿è‰²",
      number: "6",
      match: "å¤„å¥³åº§",
    },
    fortune: { overall: 4, love: 3, career: 4, wealth: 4, health: 4 },
    good: "æ•´ç†è´¢åŠ¡",
    bad: "å›ºå®ˆæ—§æ³•",
  },
  gemini: {
    name: "åŒå­åº§",
    icon: "â™Š",
    date: "5.21-6.21",
    desc: "æœºæ™ºã€çµæ´»ã€å–„äºæ²Ÿé€š",
    analysis: {
      basic:
        "åŒå­åº§æ˜¯é£è±¡æ˜Ÿåº§ï¼Œæ€ç»´çµæ´»ã€ååº”å¿«ï¼Œå–œæ¬¢æ–°é²œæ„Ÿå’Œäº¤æµäº’åŠ¨ã€‚ä½ æ“…é•¿æ•æ‰ä¿¡æ¯ã€å¿«é€Ÿå­¦ä¹ ï¼Œå¹¶æŠŠå¤æ‚é—®é¢˜è®²æ¸…æ¥šã€‚æ¯”å¦‚ä¼šè®®é‡Œä½ èƒ½å¿«é€Ÿæç‚¼é‡ç‚¹ï¼Œç”¨æ›´æ˜“æ‡‚çš„æ–¹å¼è½¬è¾¾ç»™å›¢é˜Ÿã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­å¸¸è¢«å½“ä½œæ²Ÿé€šåè°ƒçš„å…³é”®è§’è‰²ã€‚",
      specific:
        "åŒå­åº§ä¸»æŒæ²Ÿé€šä¸ä¿¡æ¯äº¤æ¢ï¼Œåƒä¸€åº§â€œæ¡¥æ¢â€ã€‚ä½ èƒ½åœ¨ä¸åŒè§‚ç‚¹ä¹‹é—´æ‰¾åˆ°è¿æ¥ç‚¹ï¼Œè®©äº‹æƒ…æ›´å¥½æ¨è¿›ã€‚ç”Ÿæ´»é‡Œä½ å¾€å¾€æ˜¯æœ‹å‹é—´çš„æ¶ˆæ¯é›†æ•£åœ°ï¼Œèƒ½å¿«é€Ÿæ•´åˆä¿¡æ¯ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œæ“…é•¿åŒ–è§£å°´å°¬å’Œæ‰“ç ´æ²‰é»˜ã€‚",
      style:
        "è¡Œäº‹é£æ ¼è½»å¿«ã€å¤šçº¿å¹¶è¡Œï¼Œå–„äºç”¨æ²Ÿé€šå’Œåä½œå®Œæˆä»»åŠ¡ã€‚ä½ å¯¹æµç¨‹ä¼˜åŒ–å’Œæ•ˆç‡æå‡æœ‰å¤©ç„¶æ•æ„Ÿåº¦ã€‚æ¯”å¦‚åŒæ—¶å¤„ç†å¤šä¸ªé¡¹ç›®æ—¶ï¼Œä½ ä¼šç”¨æ¸…å•æˆ–å·¥å…·æŠŠä»»åŠ¡æ‹†åˆ†ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šå–œæ¬¢å¤šæ¸ é“è¾“å…¥å¹¶å¿«é€Ÿæ€»ç»“ã€‚",
      blind:
        "å…´è¶£å¹¿æ³›å®¹æ˜“åˆ†å¿ƒï¼Œè¿‡å¤šé€‰æ‹©ä¼šé™ä½ä¸“æ³¨åº¦ã€‚æ˜ç¡®ä¼˜å…ˆçº§ã€èšç„¦å…³é”®ç›®æ ‡ï¼Œä¼šè®©æˆæœæ›´ç¨³å®šã€‚æ¯”å¦‚æ¯å¤©åªå®šä¸‰ä»¶å…³é”®äº‹ï¼Œå®Œæˆåå†æ‰©å±•ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­éœ€è¦é¿å…åŒæ—¶å¼€å¤ªå¤šæˆ˜çº¿ã€‚",
      summary:
        "åŒå­åº§çš„ä¼˜åŠ¿åœ¨äºä¿¡æ¯åŠ›ä¸è¡¨è¾¾åŠ›ã€‚ä¸“æ³¨ä¸€ç‚¹ï¼Œä½ ä¼šæ›´æœ‰æ·±åº¦ï¼Œä¹Ÿæ›´å®¹æ˜“å½¢æˆè‡ªå·±çš„æ ‡ç­¾ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ èƒ½å¿«é€Ÿæ•´ç†ä¿¡æ¯å¹¶æ¨åŠ¨æ²Ÿé€šï¼›å­¦ä¹ ä¸Šå–œæ¬¢å¤šæ¸ é“è¾“å…¥ä½†éœ€å®šé‡ç‚¹ï¼›å…³ç³»é‡Œå–„äºèŠå¤©æ´»è·ƒæ°”æ°›ã€‚",
    },
    traits: {
      expression: "æ€ç»´æ•æ·ï¼Œè¯é¢˜è½¬æ¢å¿«ã€‚",
      strengths: "å­¦ä¹ åŠ›å¼ºï¼Œå–„äºè¿æ¥èµ„æºã€‚",
      weaknesses: "å®¹æ˜“åˆ†å¿ƒï¼ŒæŒç»­åº¦ä¸è¶³ã€‚",
    },
    style: "é€šè¿‡äº¤æµå’Œä¿¡æ¯æ•´åˆè¾¾æˆç›®æ ‡ã€‚",
    blind: "è¿‡å¤šé€‰æ‹©ä¼šé™ä½ä¸“æ³¨åº¦ï¼Œéœ€è¦èšç„¦ã€‚",
    summary: "æ˜ç¡®ä¼˜å…ˆçº§ï¼Œæ•ˆç‡ä¼šå¤§å¹…æå‡ã€‚",
    quote: "æŠŠæƒ³æ³•è½åœ¨å…³é”®ç‚¹ä¸Šã€‚",
    facts: {
      max: "å¤šå˜",
      element: "é£",
      ruler: "æ°´æ˜Ÿ",
      color: "é»„è‰²",
      number: "5",
      match: "å¤©ç§¤åº§",
    },
    fortune: { overall: 3, love: 4, career: 3, wealth: 3, health: 4 },
    good: "æ‹“å±•äººè„‰",
    bad: "å¤šå¤´å¹¶è¿›",
  },
  cancer: {
    name: "å·¨èŸ¹åº§",
    icon: "â™‹",
    date: "6.22-7.22",
    desc: "æ¸©æŸ”ã€ä½“è´´ã€å¯Œæœ‰åŒæƒ…å¿ƒ",
    analysis: {
      basic:
        "å·¨èŸ¹åº§æƒ…æ„Ÿç»†è…»ï¼Œé‡è§†å®‰å…¨æ„Ÿä¸å½’å±æ„Ÿã€‚ä½ åœ¨å…³ç³»ä¸­æ¸©æŸ”ä½“è´´ï¼Œå–„äºç…§é¡¾ä»–äººï¼Œå†…å¿ƒå´ä¹Ÿå¾ˆæ•æ„Ÿã€‚æ¯”å¦‚åœ¨å›¢é˜Ÿé‡Œä½ ä¼šç•™æ„æˆå‘˜æƒ…ç»ªï¼Œä¸»åŠ¨è¡¥ä½å’Œå®‰æŠšã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œä½ å¸¸æ˜¯æ›´æ„¿æ„ä»˜å‡ºçš„ä¸€æ–¹ã€‚",
      specific:
        "å·¨èŸ¹åº§è±¡å¾â€œå®¶åº­ä¸æƒ…æ„Ÿâ€ã€‚ä½ å®¹æ˜“è¢«æƒ…ç»ªå½±å“ï¼Œä½†ä¹Ÿæ‹¥æœ‰å¾ˆå¼ºçš„å…±æƒ…åŠ›ï¼Œèƒ½æ•é”æ„ŸçŸ¥ä»–äººçš„éœ€æ±‚ã€‚ç”Ÿæ´»ä¸­ä½ ä¼šè®°å¾—æœ‹å‹çš„å–œå¥½å’Œç»†èŠ‚ï¼Œæ„¿æ„ä¸ºæ­¤åšå‡†å¤‡ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šåå‘ç¨³å®šã€è¢«æ”¯æŒçš„ç¯å¢ƒã€‚",
      style:
        "è¡Œäº‹é£æ ¼ä»¥å…³ç³»å’Œæ„Ÿå—ä¸ºå¯¼å‘ï¼Œåšäº‹å‰ä¼šå…ˆè€ƒè™‘å¯¹æ–¹æ„Ÿå—ã€‚ä½ æ“…é•¿ç”¨ç»†èŠ‚å»ºç«‹ä¿¡ä»»ã€‚æ¯”å¦‚æ²Ÿé€šæ—¶ä¼šå…ˆè¡¨è¾¾ç†è§£ï¼Œå†ç»™å‡ºå»ºè®®ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ ä¼šä¸»åŠ¨ç…§é¡¾æ–°äººé€‚åº”å›¢é˜Ÿã€‚",
      blind:
        "æƒ…ç»ªæ³¢åŠ¨æ—¶å®¹æ˜“é™·å…¥å†…è€—ï¼Œå¯¹å¤–ç•Œè¯„ä»·è¿‡åº¦æ•æ„Ÿã€‚æå‡è‡ªæˆ‘è¾¹ç•Œæ„Ÿï¼Œä¼šè®©ä½ æ›´ç¨³å®šã€‚æ¯”å¦‚ç»™è‡ªå·±è®¾å®šä¼‘æ¯æ—¶é—´ï¼Œä¸è®©æƒ…ç»ªä¸€ç›´è¢«æ‰“æ‰°ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œéœ€è¦é¿å…è¿‡åº¦è¿åˆã€‚",
      summary:
        "å·¨èŸ¹åº§çš„é­…åŠ›åœ¨äºæ¸©æŸ”ä¸å®ˆæŠ¤ã€‚å­¦ä¼šç…§é¡¾è‡ªå·±ï¼Œä½ ä¼šæ›´æœ‰åŠ›é‡ï¼Œä¹Ÿæ›´èƒ½æŒç»­ä»˜å‡ºã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ ä¼šä¸»åŠ¨ç…§é¡¾å›¢é˜Ÿæƒ…ç»ªä¸ç»†èŠ‚ï¼›å­¦ä¹ ä¸Šå–œæ¬¢ç¨³å®šèŠ‚å¥ä¸å®‰å…¨æ„Ÿç¯å¢ƒï¼›å…³ç³»é‡Œæ“…é•¿å…³å¿ƒä¸ç…§æ–™å¯¹æ–¹ã€‚",
    },
    traits: {
      expression: "æƒ…æ„Ÿç»†è…»ï¼Œé‡è§†å½’å±ä¸å®¶åº­æ„Ÿã€‚",
      strengths: "åŒ…å®¹åº¦é«˜ï¼Œå–„äºç…§é¡¾ä»–äººã€‚",
      weaknesses: "å®¹æ˜“æƒ…ç»ªåŒ–ï¼Œç¼ºä¹å®‰å…¨æ„Ÿã€‚",
    },
    style: "ä»¥æ„Ÿå—ä¸ºå¯¼å‘ï¼Œé‡è§†å…³ç³»çš„ç¨³å®šã€‚",
    blind: "è¿‡åº¦åœ¨æ„åˆ«äººçš„è¯„ä»·ï¼Œéœ€è¦æ›´è‡ªä¿¡ã€‚",
    summary: "æŠŠå…³æ³¨ç‚¹æ‹‰å›è‡ªå·±ï¼Œå¿ƒä¼šæ›´å®‰å®šã€‚",
    quote: "æŸ”è½¯ä¹Ÿå¯ä»¥å¾ˆæœ‰åŠ›é‡ã€‚",
    facts: {
      max: "æ•æ„Ÿ",
      element: "æ°´",
      ruler: "æœˆäº®",
      color: "é“¶ç™½",
      number: "2",
      match: "åŒé±¼åº§",
    },
    fortune: { overall: 4, love: 4, career: 3, wealth: 3, health: 4 },
    good: "ç…§é¡¾å®¶äºº",
    bad: "æƒ…ç»ªå†…è€—",
  },
  leo: {
    name: "ç‹®å­åº§",
    icon: "â™Œ",
    date: "7.23-8.22",
    desc: "è‡ªä¿¡ã€æ…·æ…¨ã€å……æ»¡é¢†å¯¼åŠ›",
    analysis: {
      basic:
        "ç‹®å­åº§å……æ»¡è‡ªä¿¡ä¸çƒ­æƒ…ï¼Œå–œæ¬¢è¢«è®¤å¯ï¼Œä¹Ÿæ“…é•¿å¸¦åŠ¨æ°›å›´ã€‚ä½ å¤©ç”Ÿæœ‰é¢†å¯¼æ°”è´¨ï¼Œæ•¢äºç«™åœ¨èˆå°ä¸­å¤®ã€‚æ¯”å¦‚åœ¨é¡¹ç›®æ¨è¿›ä¸­ï¼Œä½ ä¼šä¸»åŠ¨æ‹…å½“å‘è¨€äººã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­å¸¸å¸¸æ‰¿æ‹…å¯¹å¤–å±•ç¤ºæˆ–æ±‡æŠ¥è§’è‰²ã€‚",
      specific:
        "ç‹®å­åº§ç”±å¤ªé˜³å®ˆæŠ¤ï¼Œè±¡å¾å…‰èŠ’ä¸è£è€€ã€‚ä½ é‡è§†å°Šä¸¥ä¸ä»·å€¼æ„Ÿï¼Œæ„¿æ„ä¸ºç›®æ ‡æŠ•å…¥å¤§é‡èƒ½é‡ã€‚ç”Ÿæ´»ä¸­ä½ æ›´æ„¿æ„åšå‡ºæœ‰ä»£è¡¨æ€§çš„æˆæœï¼Œè€Œä¸æ˜¯å¹³å¹³æ— å¥‡ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šå–œæ¬¢è·å¾—è®¤å¯æˆ–æ’åã€‚",
      style:
        "è¡Œäº‹é£æ ¼æœæ–­ã€å¤–å‘ï¼Œå–„äºé¼“èˆä»–äººã€‚ä½ ä¼šä»¥æ˜ç¡®çš„ç›®æ ‡é©±åŠ¨å›¢é˜Ÿå‰è¿›ã€‚æ¯”å¦‚åœ¨é›†ä½“è¿·èŒ«æ—¶ï¼Œä½ ä¼šç‡å…ˆå®šè°ƒå¹¶æ¨åŠ¨æ‰§è¡Œã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œå–œæ¬¢ç»„ç»‡æ´»åŠ¨å’Œè¥é€ ä»ªå¼æ„Ÿã€‚",
      blind:
        "è¿‡åº¦å¥½å¼ºä¼šç»™è‡ªå·±å‹åŠ›ï¼Œå®¹æ˜“å¿½ç•¥ä»–äººçš„æ„Ÿå—ã€‚é€‚å½“æ”¾ä¸‹æ§åˆ¶ï¼Œä¼šè®©ä½ æ›´å—æ¬¢è¿ã€‚æ¯”å¦‚åœ¨è®¨è®ºæ—¶å¤šè®©åˆ«äººè¡¨è¾¾ï¼Œä¼šè®©å›¢é˜Ÿæ›´å›¢ç»“ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­å­¦ä¼šæˆæƒä¼šæ›´çœåŠ›ã€‚",
      summary:
        "ç‹®å­åº§çš„ä¼˜åŠ¿åœ¨äºè‡ªä¿¡ä¸æ„ŸæŸ“åŠ›ã€‚å­¦ä¼šå€¾å¬ï¼Œä½ çš„å…‰èŠ’æ›´é•¿ä¹…ï¼Œä¹Ÿæ›´å…·å·å¬åŠ›ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ æ•¢æ‹…å½“ä¸å®šæ–¹å‘ï¼›å­¦ä¹ ä¸Šå–œæ¬¢åœ¨å…¬å¼€åœºåˆå±•ç¤ºæˆæœï¼›å…³ç³»é‡Œåä¸»åŠ¨è¡¨è¾¾ä¸å¸¦åŠ¨æ°›å›´ã€‚",
    },
    traits: {
      expression: "æ°”åœºå¼ºçƒˆï¼Œå–œæ¬¢æˆä¸ºç„¦ç‚¹ã€‚",
      strengths: "é¢†å¯¼åŠ›å¼ºï¼Œçƒ­æƒ…å¤–æ”¾ã€‚",
      weaknesses: "è‡ªå°Šå¿ƒå¼ºï¼Œå®¹æ˜“é€å¼ºã€‚",
    },
    style: "ç”¨è¡ŒåŠ¨å¸¦åŠ¨å›¢é˜Ÿï¼Œæ“…é•¿æŒæ§èŠ‚å¥ã€‚",
    blind: "è¿‡åº¦å¥½èƒœä¼šå¿½ç•¥ä»–äººæ„Ÿå—ã€‚",
    summary: "æ„¿æ„å€¾å¬ï¼Œé­…åŠ›ä¼šæ›´çªå‡ºã€‚",
    quote: "æŠŠèƒ½é‡ç”¨åœ¨æœ€é‡è¦çš„ç›®æ ‡ä¸Šã€‚",
    facts: {
      max: "è‡ªä¿¡",
      element: "ç«",
      ruler: "å¤ªé˜³",
      color: "é‡‘è‰²",
      number: "1",
      match: "ç™½ç¾Šåº§",
    },
    fortune: { overall: 4, love: 4, career: 5, wealth: 3, health: 4 },
    good: "å±•ç¤ºæˆæœ",
    bad: "å¼ºæ’‘é¢å­",
  },
  virgo: {
    name: "å¤„å¥³åº§",
    icon: "â™",
    date: "8.23-9.22",
    desc: "ç»†è‡´ã€å®Œç¾ã€è¿½æ±‚å“è¶Š",
    analysis: {
      basic:
        "å¤„å¥³åº§è¿½æ±‚ç§©åºä¸æ•ˆç‡ï¼Œæ“…é•¿ä»ç»†èŠ‚ä¸­å‘ç°é—®é¢˜å¹¶ä¼˜åŒ–ã€‚ä½ å¯¹è‡ªå·±è¦æ±‚é«˜ï¼Œåšäº‹ä¸¥è°¨ã€‚æ¯”å¦‚ä½ ä¼šåœ¨æŠ¥å‘Šé‡Œæ£€æŸ¥æ ¼å¼ä¸é€»è¾‘çš„æ¯ä¸ªç»†èŠ‚ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­æ˜¯æµç¨‹æŠŠæ§å’Œè´¨é‡æ£€æŸ¥çš„æ ¸å¿ƒã€‚",
      specific:
        "å¤„å¥³åº§ç”±æ°´æ˜Ÿå®ˆæŠ¤ï¼Œè±¡å¾ç†æ€§ä¸åˆ†æã€‚ä½ ä¹ æƒ¯ç”¨é€»è¾‘å’Œæ•°æ®åšåˆ¤æ–­ï¼Œè¡ŒåŠ¨ä¹‹å‰ä¼šå…ˆè§„åˆ’ã€‚æ—¥å¸¸é‡Œä½ å¯èƒ½ä¼šåˆ—å‡ºæµç¨‹ã€æ­¥éª¤å’Œé£é™©ç‚¹ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šåå¥½ç³»ç»ŸåŒ–ç¬”è®°ä¸å¤ç›˜ã€‚",
      style:
        "è¡Œäº‹é£æ ¼ç»†è‡´è€Œç¨³å¥ï¼Œå–„äºæ‹†è§£ä»»åŠ¡ã€é€é¡¹è½å®ã€‚ä½ é‡è§†æµç¨‹ä¸è´¨é‡ã€‚æ¯”å¦‚æŠŠå¤§ç›®æ ‡æ‹†æˆæ¯å‘¨è®¡åˆ’ï¼Œå†æŒ‰è¡¨æ¨è¿›ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œä¼šæå‰å®‰æ’ç»†èŠ‚å’Œè¡Œç¨‹ã€‚",
      blind:
        "è¿‡åº¦å®Œç¾å®¹æ˜“é€ æˆç„¦è™‘ï¼ŒæŒ‘å‰”ä¹Ÿä¼šå½±å“äººé™…ã€‚æ”¾æ¾æ ‡å‡†ã€æ¥å—å·®å¼‚ï¼Œä¼šè®©ä½ æ›´è½»æ¾ã€‚æ¯”å¦‚å…è®¸è‡ªå·±â€œå…ˆå®Œæˆå†ä¼˜åŒ–â€ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­é¿å…æŠŠå°é—®é¢˜æ”¾å¤§åŒ–ã€‚",
      summary:
        "å¤„å¥³åº§çš„ä¼˜åŠ¿åœ¨äºç»†èŠ‚æŒæ§ä¸é«˜æ•ˆç‡ã€‚é€‚åº¦æ¾å¼›ï¼Œä½ ä¼šæ›´é«˜æ•ˆï¼Œä¹Ÿæ›´æœ‰æ»¡è¶³æ„Ÿã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ ä¼šä¸¥æ ¼æŠŠæ§æµç¨‹è´¨é‡ï¼›å­¦ä¹ ä¸Šå–„äºåšç¬”è®°ä¸å¤ç›˜ï¼›å…³ç³»é‡Œå®¹æ˜“ä¸ºå¯¹æ–¹å®‰æ’ç»†èŠ‚ä¸è®¡åˆ’ã€‚",
    },
    traits: {
      expression: "é€»è¾‘æ¸…æ™°ï¼Œåšäº‹ä¸¥è°¨ã€‚",
      strengths: "ä¸“æ³¨ç»†èŠ‚ï¼Œæ‰§è¡Œç¨³å®šã€‚",
      weaknesses: "å®¹æ˜“ç„¦è™‘ï¼Œè¿‡äºæŒ‘å‰”ã€‚",
    },
    style: "é è®¡åˆ’å’Œå¤ç›˜ä¸æ–­ä¼˜åŒ–ç»“æœã€‚",
    blind: "å¯¹è‡ªå·±è¦æ±‚è¿‡é«˜ï¼Œå®¹æ˜“ç–²æƒ«ã€‚",
    summary: "æ”¾ä¸‹éƒ¨åˆ†å®Œç¾ä¸»ä¹‰æ›´è½»æ¾ã€‚",
    quote: "ç»†èŠ‚å†³å®šæˆè´¥ã€‚",
    facts: {
      max: "ç»†è‡´",
      element: "åœŸ",
      ruler: "æ°´æ˜Ÿ",
      color: "ç±³è‰²",
      number: "5",
      match: "é‡‘ç‰›åº§",
    },
    fortune: { overall: 4, love: 3, career: 4, wealth: 4, health: 3 },
    good: "æ¢³ç†è®¡åˆ’",
    bad: "è¿‡åº¦è‹›è´£",
  },
  libra: {
    name: "å¤©ç§¤åº§",
    icon: "â™",
    date: "9.23-10.23",
    desc: "ä¼˜é›…ã€å…¬æ­£ã€è¿½æ±‚å’Œè°",
    analysis: {
      basic:
        "å¤©ç§¤åº§æ“…é•¿å¹³è¡¡ä¸åè°ƒï¼Œè¿½æ±‚å’Œè°ä¸ç¾æ„Ÿã€‚ä½ æ³¨é‡å…¬å¹³ï¼Œå–œæ¬¢ç”¨æ²Ÿé€šè§£å†³é—®é¢˜ã€‚æ¯”å¦‚åœ¨å›¢é˜Ÿåˆ†æ­§æ—¶ï¼Œä½ ä¼šå…ˆå¬å®ŒåŒæ–¹æ„è§å†åšè°ƒæ•´ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­æ“…é•¿åšèµ„æºåè°ƒä¸æ²Ÿé€šæ¡¥æ¢ã€‚",
      specific:
        "å¤©ç§¤åº§ç”±é‡‘æ˜Ÿå®ˆæŠ¤ï¼Œè±¡å¾å…³ç³»ä¸å®¡ç¾ã€‚ä½ åœ¨äººé™…ä¸­å¾ˆæœ‰äº²å’ŒåŠ›ï¼Œæ‡‚å¾—å¦‚ä½•è®©æ°”æ°›èˆ’é€‚ã€‚ç”Ÿæ´»ä¸­ä½ ä¼šå…³æ³¨ä»ªå¼æ„Ÿå’Œæ°›å›´å¸ƒç½®ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œå–œæ¬¢ä¿æŒäº’åŠ¨ä¸å¹³è¡¡æ„Ÿã€‚",
      style:
        "è¡Œäº‹é£æ ¼æ¸©å’Œã€ç†æ€§ï¼Œå€¾å‘äºå…ˆæ”¶é›†æ„è§å†åšå†³å®šã€‚ä½ å–„äºå½¢æˆå…±è¯†ã€‚æ¯”å¦‚åœ¨åˆ¶å®šè®¡åˆ’å‰ï¼Œä½ ä¼šå…ˆåšå°èŒƒå›´å…±è¯†å¯¹é½ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šæ›´å–œæ¬¢è®¨è®ºå¼æˆ–å°ç»„å¼æ¨¡å¼ã€‚",
      blind:
        "è¿‡åº¦çŠ¹è±«ä¼šæ‹–æ…¢èŠ‚å¥ï¼Œå¤ªåœ¨æ„åˆ«äººçœ‹æ³•ä¼šå¤±å»ä¸»è§ã€‚åšæŒç«‹åœºä¼šè®©ä½ æ›´æœ‰åŠ›é‡ã€‚æ¯”å¦‚è®¾å®šæ˜ç¡®çš„å†³ç­–æˆªæ­¢æ—¶é—´ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­éœ€è¦æ›´å¿«åšå†³å®šã€‚",
      summary:
        "å¤©ç§¤åº§çš„ä¼˜åŠ¿åœ¨äºåè°ƒä¸å®¡ç¾ã€‚æ›´æœæ–­ä¸€ç‚¹ï¼Œä½ ä¼šæ›´å—ä¿¡ä»»ï¼Œä¹Ÿæ›´å®¹æ˜“æ¨è¿›äº‹æƒ…ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ æ“…é•¿åè°ƒèµ„æºä¸å…³ç³»ï¼›å­¦ä¹ ä¸Šå–œæ¬¢æ‰¾ä¼™ä¼´ä¸€èµ·è®¨è®ºï¼›å…³ç³»é‡Œæ³¨é‡ä»ªå¼æ„Ÿä¸æ²Ÿé€šä½“éªŒã€‚",
    },
    traits: {
      expression: "é‡è§†å…¬å¹³ï¼Œæ“…é•¿åè°ƒå…³ç³»ã€‚",
      strengths: "å®¡ç¾å¥½ï¼Œæ²Ÿé€šèƒ½åŠ›å¼ºã€‚",
      weaknesses: "çŠ¹è±«ä¸å†³ï¼Œé€‰æ‹©å›°éš¾ã€‚",
    },
    style: "ä»¥å¹³è¡¡ä¸ºç›®æ ‡ï¼Œå€¾å‘åˆä½œè¾¾æˆå…±è¯†ã€‚",
    blind: "è¿‡åº¦é¡¾è™‘ä»–äººä¼šå¿½ç•¥è‡ªå·±éœ€æ±‚ã€‚",
    summary: "ç«‹åœºæ¸…æ™°æ—¶æ›´å®¹æ˜“èµ¢å¾—æ”¯æŒã€‚",
    quote: "è®©é€‰æ‹©æ›´æœæ–­ä¸€ç‚¹ã€‚",
    facts: {
      max: "å¹³è¡¡",
      element: "é£",
      ruler: "é‡‘æ˜Ÿ",
      color: "ç²‰è‰²",
      number: "6",
      match: "åŒå­åº§",
    },
    fortune: { overall: 3, love: 4, career: 3, wealth: 3, health: 4 },
    good: "åä½œæ²Ÿé€š",
    bad: "æ‹–å»¶å†³å®š",
  },
  scorpio: {
    name: "å¤©èåº§",
    icon: "â™",
    date: "10.24-11.22",
    desc: "æ·±åˆ»ã€ç¥ç§˜ã€æ„å¿—åšå®š",
    analysis: {
      basic:
        "å¤©èåº§æƒ…æ„Ÿæµ“çƒˆã€æ´å¯ŸåŠ›å¼ºã€‚ä½ ä¸è½»æ˜“ç›¸ä¿¡ä»–äººï¼Œä½†ä¸€æ—¦è®¤å®šå°±ä¼šéå¸¸åšå®šã€‚æ¯”å¦‚åœ¨åˆä½œå…³ç³»ä¸­ï¼Œä½ ä¼šå…ˆè§‚å¯Ÿä¸€æ®µæ—¶é—´å†å…¨åŠ›æŠ•å…¥ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œåå‘æ·±åº¦ç»‘å®šä¸å¼ºä¿¡ä»»ã€‚",
      specific:
        "å¤©èåº§è±¡å¾æ·±åº¦ä¸é‡ç”Ÿã€‚ä½ æ“…é•¿æ¢ç©¶çœŸç›¸ï¼Œèƒ½å¤Ÿåœ¨å‹åŠ›ä¸‹ä¿æŒé«˜åº¦ä¸“æ³¨ã€‚é¢å¯¹å¤æ‚é—®é¢˜æ—¶ï¼Œä½ ä¼šä¸»åŠ¨æ·±å…¥åˆ°åº•å±‚åŸå› ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­å–œæ¬¢è¿½æ ¹ç©¶åº•æ‰¾åˆ°å…³é”®ç‚¹ã€‚",
      style:
        "è¡Œäº‹é£æ ¼æ·±å…¥ã€ç¨³å‡†ï¼Œå–œæ¬¢æŒæ¡æ ¸å¿ƒä¿¡æ¯åå†è¡ŒåŠ¨ã€‚ä½ è¿½æ±‚æ§åˆ¶æ„Ÿå’Œç¡®å®šæ€§ã€‚æ¯”å¦‚ä½ ä¼šå…ˆæŠŠå…³é”®èµ„æºæŒæ¡åœ¨æ‰‹ï¼Œå†æ¨è¿›ä¸‹ä¸€æ­¥ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šæ›´å€¾å‘ç ”ç©¶å‹ã€æ·±å…¥å‹ã€‚",
      blind:
        "è¿‡åº¦æ•æ„Ÿä¼šè®©ä½ é™·å…¥çŒœæµ‹ï¼Œå¼ºçƒˆæƒ…ç»ªå¯èƒ½å½±å“åˆ¤æ–­ã€‚å­¦ä¼šä¿¡ä»»ï¼Œä¼šæ›´è½»æ¾ã€‚æ¯”å¦‚æŠŠæ‹…å¿ƒè¯´å‡ºæ¥ï¼Œæ¯”è‡ªå·±çŒœæµ‹æ›´æœ‰æ•ˆã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œé¿å…è¿‡åº¦æ§åˆ¶æˆ–è¯•æ¢ã€‚",
      summary:
        "å¤©èåº§çš„ä¼˜åŠ¿åœ¨äºæ´å¯Ÿä¸éŸ§æ€§ã€‚å‡å°‘å†…è€—ï¼Œä½ ä¼šæ›´æœ‰åŠ›é‡ï¼Œä¹Ÿæ›´èƒ½å‘æŒ¥å½±å“åŠ›ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ æ“…é•¿æ·±æŒ–é—®é¢˜å¹¶æŒæ§å…³é”®ç‚¹ï¼›å­¦ä¹ ä¸Šå–œæ¬¢ç ”ç©¶å¼å­¦ä¹ ï¼›å…³ç³»é‡Œé‡è§†ä¿¡ä»»ä¸æ·±åº¦é“¾æ¥ã€‚",
    },
    traits: {
      expression: "æ´å¯ŸåŠ›å¼ºï¼Œæƒ…æ„Ÿæ·±æ²‰ã€‚",
      strengths: "ä¸“æ³¨åŠ›å¼ºï¼ŒæŠ—å‹èƒ½åŠ›é«˜ã€‚",
      weaknesses: "æƒ…ç»ªæç«¯ï¼Œå æœ‰æ¬²å¼ºã€‚",
    },
    style: "ç›®æ ‡æ˜ç¡®ï¼Œå–œæ¬¢æ·±æŒ–æœ¬è´¨ã€‚",
    blind: "è¿‡åº¦æ•æ„Ÿä¼šå¢åŠ å†…è€—ã€‚",
    summary: "é€‚åº¦æ”¾æ¾åè€Œæ›´æœ‰æŒæ§æ„Ÿã€‚",
    quote: "è¶Šä¸“æ³¨è¶Šæ¥è¿‘ç­”æ¡ˆã€‚",
    facts: {
      max: "æ·±åˆ»",
      element: "æ°´",
      ruler: "å†¥ç‹æ˜Ÿ",
      color: "æ·±çº¢",
      number: "8",
      match: "å·¨èŸ¹åº§",
    },
    fortune: { overall: 4, love: 3, career: 4, wealth: 4, health: 3 },
    good: "æ·±å…¥ç ”ç©¶",
    bad: "è¿‡åº¦çŒœæµ‹",
  },
  sagittarius: {
    name: "å°„æ‰‹åº§",
    icon: "â™",
    date: "11.23-12.21",
    desc: "ä¹è§‚ã€è‡ªç”±ã€çƒ­çˆ±å†’é™©",
    analysis: {
      basic:
        "å°„æ‰‹åº§ä¹è§‚å¼€æœ—ï¼Œå–œæ¬¢æ¢ç´¢ä¸æˆé•¿ã€‚ä½ è¿½æ±‚è‡ªç”±ï¼Œä¸å–œæ¬¢è¢«é™åˆ¶ï¼Œå¯¹æ–°ä½“éªŒå……æ»¡å¥½å¥‡ã€‚æ¯”å¦‚åœ¨è®¡åˆ’ä¸­ä½ æ›´æ„¿æ„å°è¯•æ–°çš„æ–¹æ³•æˆ–è·¯çº¿ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šæ„¿æ„è·¨å­¦ç§‘æ¢ç´¢ã€‚",
      specific:
        "å°„æ‰‹åº§ç”±æœ¨æ˜Ÿå®ˆæŠ¤ï¼Œè±¡å¾æ‰©å¼ ä¸è¿œè§ã€‚ä½ æ„¿æ„è¿½æ±‚æ›´å¤§çš„èˆå°ï¼Œçƒ­è¡·å­¦ä¹ ä¸æ—…è¡Œã€‚ç”Ÿæ´»é‡Œä½ ä¼šä¸»åŠ¨å¯»æ‰¾è·¨é¢†åŸŸçš„å­¦ä¹ æœºä¼šã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­å–œæ¬¢å‚ä¸æ–°çš„ä¸šåŠ¡æ‹“å±•ã€‚",
      style:
        "è¡Œäº‹é£æ ¼å¼€æ”¾ã€ç§¯æï¼Œå–œæ¬¢è¾¹è¡ŒåŠ¨è¾¹è°ƒæ•´ã€‚ä½ æ“…é•¿æŠ“ä½æœºä¼šï¼Œæ‹¥æœ‰å¼ºçƒˆçš„è¡ŒåŠ¨æ¬²ã€‚æ¯”å¦‚æƒ³åˆ°ç‚¹å­å°±ä¼šç«‹åˆ»å°è¯•ï¼Œå¿«é€ŸéªŒè¯ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œè¿½æ±‚è‡ªç”±ä¸”å¦è¯šçš„æ²Ÿé€šæ–¹å¼ã€‚",
      blind:
        "è¿‡äºè¿½æ±‚è‡ªç”±å¯èƒ½å¿½ç•¥ç»†èŠ‚ï¼Œæ‰¿è¯ºè¿‡å¤šä¼šè®©è®¡åˆ’å¤±è¡¡ã€‚å¢åŠ æ‰§è¡ŒåŠ›ä¼šæ›´ç¨³ã€‚æ¯”å¦‚ç»™æ¯ä¸ªæ‰¿è¯ºè®¾ç½®å¯é‡åŒ–çš„æ—¶é—´ç‚¹ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­æ³¨æ„æŠŠæ‰¿è¯ºè½æˆå…·ä½“è¡ŒåŠ¨ã€‚",
      summary:
        "å°„æ‰‹åº§çš„ä¼˜åŠ¿åœ¨äºè§†é‡ä¸ä¹è§‚ã€‚æŠŠçƒ­æƒ…è½å®ï¼Œä½ ä¼šæ›´æœ‰æˆæœï¼Œä¹Ÿæ›´å®¹æ˜“è¢«è®¤å¯ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ æ“…é•¿æ¢ç´¢æ–°æœºä¼šï¼›å­¦ä¹ ä¸Šå–œæ¬¢è·¨é¢†åŸŸæ‹“å±•ï¼›å…³ç³»é‡Œå‘å¾€è‡ªç”±ä¸”å¦è¯šäº¤æµã€‚",
    },
    traits: {
      expression: "æ€æƒ³å¼€æ”¾ï¼Œçƒ­è¡·æ¢ç´¢ã€‚",
      strengths: "ç§¯æä¹è§‚ï¼Œå­¦ä¹ æ–°äº‹ç‰©å¿«ã€‚",
      weaknesses: "è€å¿ƒä¸è¶³ï¼Œæ˜“ä¸‰åˆ†é’Ÿçƒ­åº¦ã€‚",
    },
    style: "åå¥½è‡ªç”±å‘æŒ¥ï¼Œå–„äºæ•æ‰æœºä¼šã€‚",
    blind: "è§„åˆ’ä¸è¶³æ—¶ä¼šé”™å¤±ç¨³å®šæˆæœã€‚",
    summary: "é€‚å½“è‡ªå¾‹èƒ½è®©æˆæœæ›´æ‰å®ã€‚",
    quote: "æŠŠçƒ­æƒ…è½¬ä¸ºæŒç»­çš„è¡ŒåŠ¨ã€‚",
    facts: {
      max: "è‡ªç”±",
      element: "ç«",
      ruler: "æœ¨æ˜Ÿ",
      color: "ç´«è‰²",
      number: "3",
      match: "ç™½ç¾Šåº§",
    },
    fortune: { overall: 4, love: 4, career: 3, wealth: 3, health: 4 },
    good: "æ‹“å±•è§†é‡",
    bad: "éšæ„æ‰¿è¯º",
  },
  capricorn: {
    name: "æ‘©ç¾¯åº§",
    icon: "â™‘",
    date: "12.22-1.19",
    desc: "è¸å®ã€è´Ÿè´£ã€ç›®æ ‡æ˜ç¡®",
    analysis: {
      basic:
        "æ‘©ç¾¯åº§åŠ¡å®ã€æœ‰è´£ä»»æ„Ÿï¼Œç›®æ ‡æ„Ÿå¼ºã€‚ä½ æ„¿æ„ä¸ºé•¿æœŸç›®æ ‡é»˜é»˜åŠªåŠ›ï¼Œä¸æƒ§å‹åŠ›ã€‚æ¯”å¦‚é¢å¯¹é•¿æœŸé¡¹ç›®ï¼Œä½ ä¼šæ„¿æ„å…ˆåƒè‹¦æŠŠåŸºç¡€æ‰“ç‰¢ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­åå‘æ‰¿æ‹…æ ¸å¿ƒè´£ä»»ã€‚",
      specific:
        "æ‘©ç¾¯åº§ç”±åœŸæ˜Ÿå®ˆæŠ¤ï¼Œè±¡å¾çºªå¾‹ä¸æˆå°±ã€‚ä½ é‡è§†ç¤¾ä¼šåœ°ä½ä¸æˆæœï¼Œä¹ æƒ¯æŠŠç›®æ ‡æ‹†è§£è½å®ã€‚ç”Ÿæ´»é‡Œä½ ä¼šæå‰è§„åˆ’æ—¶é—´è¡¨å’Œèµ„æºå®‰æ’ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šä¹ æƒ¯æŒ‰é˜¶æ®µè®¾å®šç›®æ ‡ã€‚",
      style:
        "è¡Œäº‹é£æ ¼ç¨³å¥ã€æœ‰æ¡ç†ï¼Œå–œæ¬¢æŒ‰è®¡åˆ’æ¨è¿›ã€‚ä½ å¯¹æ—¶é—´å’Œèµ„æºçš„ç®¡ç†å¾ˆæœ‰æ–¹æ³•ã€‚æ¯”å¦‚ä½ ä¼šè®¾å®šé˜¶æ®µæ€§é‡Œç¨‹ç¢‘æ¥è¿½è¸ªè¿›åº¦ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œæ›´åç¨³å®šå’Œé•¿çº¿è§„åˆ’ã€‚",
      blind:
        "è¿‡åº¦å‹æŠ‘æƒ…ç»ªå®¹æ˜“ç–²æƒ«ï¼Œå¤ªé‡è§†ç»“æœä¼šå¿½ç•¥è¿‡ç¨‹çš„å¹¸ç¦æ„Ÿã€‚å­¦ä¼šæ”¾æ¾å¾ˆé‡è¦ã€‚æ¯”å¦‚å®šæœŸå®‰æ’ä¼‘æ¯æ—¥ï¼Œä¸è®©è‡ªå·±ä¸€ç›´ç´§ç»·ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­é¿å…é•¿æœŸè¿‡åº¦åŠ å‹ã€‚",
      summary:
        "æ‘©ç¾¯åº§çš„ä¼˜åŠ¿åœ¨äºè‡ªå¾‹ä¸è€åŠ›ã€‚é€‚åº¦æ”¾æ¾ï¼Œä½ ä¼šæ›´æœ‰æŒç»­åŠ›ï¼Œä¹Ÿæ›´å®¹æ˜“ä¿æŒçƒ­æƒ…ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ ä¼šåˆ¶å®šé•¿æœŸç›®æ ‡å¹¶æŒç»­æ¨è¿›ï¼›å­¦ä¹ ä¸Šè€å¿ƒæ‰“åŸºç¡€ä¸é•¿æœŸç§¯ç´¯ï¼›å…³ç³»é‡Œåç¨³å®šä¸è´£ä»»æ„Ÿã€‚",
    },
    traits: {
      expression: "ç¨³é‡å¯é ï¼Œæ³¨é‡ç»“æœã€‚",
      strengths: "æ‰§è¡ŒåŠ›å¼ºï¼Œè´£ä»»æ„Ÿè¶³ã€‚",
      weaknesses: "å®¹æ˜“å‹æŠ‘ï¼Œè¿‡äºè°¨æ…ã€‚",
    },
    style: "æŒ‰ç›®æ ‡æ‹†è§£ä»»åŠ¡ï¼Œå¾ªåºæ¸è¿›ã€‚",
    blind: "æŠŠå‹åŠ›éƒ½æ‰›åœ¨è‡ªå·±èº«ä¸Šã€‚",
    summary: "å­¦ä¼šåˆ†æ‹…ï¼Œæ•ˆç‡ä¼šæ›´é«˜ã€‚",
    quote: "ä¸€æ­¥ä¸€ä¸ªè„šå°ã€‚",
    facts: {
      max: "è¸å®",
      element: "åœŸ",
      ruler: "åœŸæ˜Ÿ",
      color: "å’–å•¡è‰²",
      number: "4",
      match: "å¤„å¥³åº§",
    },
    fortune: { overall: 4, love: 3, career: 4, wealth: 4, health: 4 },
    good: "ç¨³æ­¥æ¨è¿›",
    bad: "è‡ªæˆ‘å‹è¿«",
  },
  aquarius: {
    name: "æ°´ç“¶åº§",
    icon: "â™’",
    date: "1.20-2.18",
    desc: "ç‹¬ç«‹ã€åˆ›æ–°ã€å¯Œæœ‰è¿œè§",
    analysis: {
      basic:
        "æ°´ç“¶åº§ç‹¬ç«‹ç†æ€§ï¼Œå¼ºè°ƒè‡ªç”±ä¸åˆ›æ–°ã€‚ä½ æ€ç»´å‰å«ï¼Œå–œæ¬¢æ¢ç´¢æ–°æ–¹æ³•ï¼Œå®¹æ˜“å¼•é¢†è¶‹åŠ¿ã€‚æ¯”å¦‚ä½ ä¼šæå‡ºä¸åŒäºå¸¸è§„çš„è§£å†³æ–¹æ¡ˆã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­æ“…é•¿æå‡ºåˆ›æ–°æµç¨‹ã€‚",
      specific:
        "æ°´ç“¶åº§ç”±å¤©ç‹æ˜Ÿå®ˆæŠ¤ï¼Œè±¡å¾å˜é©ä¸çªç ´ã€‚ä½ ä¸æ»¡è¶³äºä¼ ç»Ÿæ¡†æ¶ï¼Œæ„¿æ„ç”¨ç‹¬ç‰¹è§†è§’çœ‹é—®é¢˜ã€‚ç”Ÿæ´»é‡Œä½ ä¼šä¹äºå°è¯•æ–°å·¥å…·æˆ–æ–°æ¨¡å¼ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šå–œæ¬¢ç”¨æ–°å¹³å°æˆ–æ–°è¯¾ç¨‹ã€‚",
      style:
        "è¡Œäº‹é£æ ¼çµæ´»ã€å¯Œåˆ›æ„ï¼Œæ“…é•¿è·³å‡ºç°æœ‰è§„åˆ™å¯»æ‰¾æ–°è§£æ³•ã€‚ä½ å¯¹ç¾¤ä½“ä¸ç¤¾ä¼šè®®é¢˜ä¹Ÿå¾ˆæ•æ„Ÿã€‚æ¯”å¦‚åœ¨å›¢é˜Ÿä¸­ä½ ä¼šæå‡ºæ›´å…¬å¹³æˆ–æ›´é«˜æ•ˆçš„æ–¹æ¡ˆã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œéœ€è¦ç©ºé—´ä½†æ„¿æ„åˆ†äº«ç†å¿µã€‚",
      blind:
        "è¿‡äºç†æ€§å¯èƒ½è®©äººè§‰å¾—ç–ç¦»ï¼Œä¸æ„¿å¦¥åä¼šå¢åŠ æ²Ÿé€šæˆæœ¬ã€‚é€‚å½“è¡¨è¾¾æƒ…ç»ªä¼šæ›´äº²è¿‘ã€‚æ¯”å¦‚åœ¨æ²Ÿé€šæ—¶å¤šè¯´â€œæˆ‘æ„Ÿå—åˆ°â€¦â€ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­éœ€è¦æ›´å…·åŒç†å¿ƒçš„è¡¨è¾¾ã€‚",
      summary:
        "æ°´ç“¶åº§çš„ä¼˜åŠ¿åœ¨äºåˆ›æ–°ä¸å‰ç»ã€‚å¤šä¸€ç‚¹æ¸©åº¦ï¼Œä½ ä¼šæ›´æœ‰å½±å“åŠ›ï¼Œä¹Ÿæ›´å®¹æ˜“è¢«ç†è§£ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ ä¼šæå‡ºæ–°æ€è·¯ä¼˜åŒ–æµç¨‹ï¼›å­¦ä¹ ä¸Šå–œæ¬¢ç”¨æ–°å·¥å…·æˆ–æ–°æ–¹æ³•ï¼›å…³ç³»é‡Œéœ€è¦ç©ºé—´ä½†ä¹Ÿæ„¿æ„åˆ†äº«æƒ³æ³•ã€‚",
    },
    traits: {
      expression: "æ€ç»´å‰å«ï¼Œå¼ºè°ƒè‡ªç”±ã€‚",
      strengths: "åˆ›æ„ä¸°å¯Œï¼Œæ“…é•¿çªç ´å¸¸è§„ã€‚",
      weaknesses: "æƒ…æ„Ÿç–ç¦»ï¼Œéš¾ä»¥å¦¥åã€‚",
    },
    style: "å–œæ¬¢å°è¯•æ–°æ–¹æ³•ï¼Œé‡è§†ç‹¬ç«‹æ€§ã€‚",
    blind: "è¿‡äºç†æ€§ä¼šå¿½ç•¥äººæƒ…ã€‚",
    summary: "å¢åŠ æƒ…æ„Ÿè¡¨è¾¾ä¼šæ›´æœ‰æ”¯æŒã€‚",
    quote: "åˆ›æ–°æ˜¯ä½ çš„åº•è‰²ã€‚",
    facts: {
      max: "åˆ›æ–°",
      element: "é£",
      ruler: "å¤©ç‹æ˜Ÿ",
      color: "è“è‰²",
      number: "7",
      match: "åŒå­åº§",
    },
    fortune: { overall: 3, love: 3, career: 4, wealth: 3, health: 4 },
    good: "è¾“å‡ºåˆ›æ„",
    bad: "æƒ…ç»ªç–ç¦»",
  },
  pisces: {
    name: "åŒé±¼åº§",
    icon: "â™“",
    date: "2.19-3.20",
    desc: "æµªæ¼«ã€æ•æ„Ÿã€å¯Œæœ‰æƒ³è±¡åŠ›",
    analysis: {
      basic:
        "åŒé±¼åº§æµªæ¼«æ•æ„Ÿï¼Œå¯Œæœ‰æƒ³è±¡åŠ›ä¸å…±æƒ…åŠ›ã€‚ä½ å®¹æ˜“è¢«æƒ…ç»ªè§¦åŠ¨ï¼Œä¹Ÿæ“…é•¿ç†è§£ä»–äººçš„æ„Ÿå—ã€‚æ¯”å¦‚ä½ èƒ½æ•æ‰åˆ°åˆ«äººæ²¡è¯´å‡ºå£çš„æƒ…ç»ªã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œå®¹æ˜“å…±æƒ…å¯¹æ–¹å¹¶ä¸»åŠ¨å®‰æ…°ã€‚",
      specific:
        "åŒé±¼åº§ç”±æµ·ç‹æ˜Ÿå®ˆæŠ¤ï¼Œè±¡å¾çµæ„Ÿä¸æ¢¦å¢ƒã€‚ä½ å¯¹è‰ºæœ¯ã€æƒ…æ„Ÿä¸çµæ€§é¢†åŸŸæœ‰å¤©ç„¶çš„äº²è¿‘æ„Ÿã€‚ç”Ÿæ´»é‡Œä½ å¯èƒ½æ›´å–œæ¬¢éŸ³ä¹ã€å½±åƒæˆ–åˆ›ä½œã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå­¦ä¹ ä¸Šå–œæ¬¢ä»¥å…´è¶£å’Œçµæ„Ÿé©±åŠ¨ã€‚",
      style:
        "è¡Œäº‹é£æ ¼éšæ€§è€Œæ„Ÿæ€§ï¼Œå®¹æ˜“å‡­ç›´è§‰åšå†³å®šã€‚ä½ åœ¨æ°›å›´ä¸­è¡¨ç°æ›´å¥½ï¼Œé€‚åˆæŸ”æ€§æ²Ÿé€šã€‚æ¯”å¦‚åœ¨å‹åŠ›å°çš„ç¯å¢ƒä¸‹æ•ˆç‡ä¼šæ›´é«˜ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­é€‚åˆåˆ›æ„æˆ–å†…å®¹ç±»ä»»åŠ¡ã€‚",
      blind:
        "è¿‡åº¦ç†æƒ³åŒ–ä¼šè®©ç°å®è½å·®å˜å¤§ï¼Œé€ƒé¿é—®é¢˜ä¼šç§¯ç´¯å‹åŠ›ã€‚æŠŠçµæ„Ÿè½åœ°æ›´ç¨³ã€‚æ¯”å¦‚ç»™åˆ›æ„è®¾ä¸€ä¸ªå¯æ‰§è¡Œçš„å°ç›®æ ‡ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šå…³ç³»é‡Œéœ€è¦æ›´ç›´æ¥çš„æ²Ÿé€šæ¥å‡å°‘è¯¯ä¼šã€‚",
      summary:
        "åŒé±¼åº§çš„ä¼˜åŠ¿åœ¨äºå…±æƒ…ä¸çµæ„Ÿã€‚å¢åŠ è¡ŒåŠ¨åŠ›ï¼Œä½ ä¼šæ›´æœ‰å®‰å…¨æ„Ÿï¼Œä¹Ÿæ›´å®¹æ˜“æŠŠæ¢¦æƒ³å®ç°ã€‚åœºæ™¯åŒ–ä¾‹å­ï¼šèŒåœºä¸­ä½ æ“…é•¿æ°›å›´è¥é€ ä¸åˆ›æ„ï¼›å­¦ä¹ ä¸Šå®¹æ˜“è¢«å…´è¶£é©±åŠ¨ï¼›å…³ç³»é‡Œé‡è§†æƒ…æ„Ÿå…±é¸£ä¸æ¸©æŸ”è¡¨è¾¾ã€‚",
    },
    traits: {
      expression: "æ„Ÿæ€§æµªæ¼«ï¼Œç›´è§‰æ•é”ã€‚",
      strengths: "å…±æƒ…å¼ºï¼Œæƒ³è±¡åŠ›ä¸°å¯Œã€‚",
      weaknesses: "å®¹æ˜“é€ƒé¿ï¼Œç°å®æ„Ÿä¸è¶³ã€‚",
    },
    style: "é çµæ„Ÿä¸æ„Ÿå—åšå†³å®šï¼Œæ³¨é‡æ°›å›´ã€‚",
    blind: "è¿‡åº¦ç†æƒ³åŒ–ä¼šå½±å“åˆ¤æ–­ã€‚",
    summary: "ä¿æŒç°å®æ„Ÿæ›´å®¹æ˜“è½åœ°ã€‚",
    quote: "æŠŠçµæ„Ÿè½åˆ°æ—¥å¸¸ã€‚",
    facts: {
      max: "æµªæ¼«",
      element: "æ°´",
      ruler: "æµ·ç‹æ˜Ÿ",
      color: "æµ·è“",
      number: "11",
      match: "å¤©èåº§",
    },
    fortune: { overall: 4, love: 4, career: 3, wealth: 3, health: 4 },
    good: "æƒ…æ„Ÿäº¤æµ",
    bad: "å›é¿é—®é¢˜",
  },
};

const ZODIAC_KEYWORDS = {
  aries: {
    theme: ["ä¸»åŠ¨", "çªç ´", "æ‰§è¡Œ"],
    career: ["è¡ŒåŠ¨åŠ›", "å¼€æ‹“", "é¢†è·‘"],
    wealth: ["å¿«è¿›å¿«å‡º", "é¢„ç®—", "æ§åˆ¶å†²åŠ¨"],
    love: ["ç›´ç‡", "çƒ­çƒˆ", "ä¸»åŠ¨è¡¨è¾¾"],
    health: ["è¿åŠ¨", "è¡¥æ°´", "æƒ…ç»ªé‡Šæ”¾"],
  },
  taurus: {
    theme: ["ç¨³å®š", "ç§¯ç´¯", "è€å¿ƒ"],
    career: ["ç¨³å¥æ¨è¿›", "ç»†èŠ‚æ‰“ç£¨", "å¯æŒç»­"],
    wealth: ["å‚¨è“„", "ç¨³å¥é…ç½®", "é•¿æœŸä¸»ä¹‰"],
    love: ["è¸å®", "æ…¢çƒ­", "å¯é é™ªä¼´"],
    health: ["è§„å¾‹ä½œæ¯", "èˆ’ç¼“", "è¥å…»å‡è¡¡"],
  },
  gemini: {
    theme: ["æ²Ÿé€š", "çµæ´»", "ä¿¡æ¯"],
    career: ["åä½œ", "å¤šçº¿å¹¶è¡Œ", "æ•ˆç‡ä¼˜åŒ–"],
    wealth: ["å°é¢è¯•é”™", "ä¿¡æ¯ä¼˜åŠ¿", "æ§åˆ¶åˆ†æ•£"],
    love: ["è½»æ¾äº’åŠ¨", "æœ‰è¶£", "é«˜é¢‘æ²Ÿé€š"],
    health: ["èŠ‚å¥ç®¡ç†", "æ”¾æ¾", "å‡å‹"],
  },
  cancer: {
    theme: ["æƒ…æ„Ÿ", "å®‰å…¨æ„Ÿ", "ç…§é¡¾"],
    career: ["ç¨³å®šå›¢é˜Ÿ", "æ”¯æŒåä½œ", "ç»†èŠ‚å…³æ€€"],
    wealth: ["ç¨³å®ˆ", "å®¶åº­è§„åˆ’", "é¿å…æƒ…ç»ªæ¶ˆè´¹"],
    love: ["æ¸©æŸ”", "å…±æƒ…", "ä»ªå¼æ„Ÿ"],
    health: ["ä½œæ¯è§„å¾‹", "èˆ’ç¼“æƒ…ç»ª", "è½»è¿åŠ¨"],
  },
  leo: {
    theme: ["è‡ªä¿¡", "èˆå°æ„Ÿ", "é¢†å¯¼"],
    career: ["æ‹…å½“", "è¡¨ç°åŠ›", "ç›®æ ‡é©±åŠ¨"],
    wealth: ["ä»·å€¼å›æŠ¥", "å½¢è±¡æŠ•å…¥", "æ§åˆ¶é¢å­æ¶ˆè´¹"],
    love: ["çƒ­æƒ…", "è¡¨è¾¾", "è®¤å¯æ„Ÿ"],
    health: ["ç²¾åŠ›ç®¡ç†", "ä½œæ¯èŠ‚å¥", "é¿å…é€æ”¯"],
  },
  virgo: {
    theme: ["ç§©åº", "ç»†èŠ‚", "ä¼˜åŒ–"],
    career: ["æµç¨‹", "è´¨é‡", "å¤ç›˜"],
    wealth: ["ç²¾æ‰“ç»†ç®—", "é£é™©æ§åˆ¶", "é¢„ç®—"],
    love: ["ç¨³å®š", "ä½“è´´", "åŠ¡å®"],
    health: ["è§„å¾‹", "è½»è´Ÿæ‹…è¿åŠ¨", "å‹åŠ›ç®¡ç†"],
  },
  libra: {
    theme: ["å¹³è¡¡", "å…³ç³»", "å®¡ç¾"],
    career: ["åè°ƒ", "å…±è¯†", "åˆä½œæ¨è¿›"],
    wealth: ["å¹³è¡¡æ”¶æ”¯", "å®¡æ…é€‰æ‹©", "é¿å…çŠ¹è±«"],
    love: ["æ²Ÿé€š", "ä½“é¢", "äº’ç›¸æˆå°±"],
    health: ["èŠ‚å¾‹", "èˆ’é€‚æ„Ÿ", "é€‚åº¦è¿åŠ¨"],
  },
  scorpio: {
    theme: ["æ·±åº¦", "æŒæ§", "æ´å¯Ÿ"],
    career: ["æ·±æŒ–é—®é¢˜", "ä¸“æ³¨", "æ ¸å¿ƒèµ„æº"],
    wealth: ["é•¿æœŸç­–ç•¥", "æ§åˆ¶é£é™©", "é¿å…å†²åŠ¨"],
    love: ["ä¿¡ä»»", "æ·±åº¦é“¾æ¥", "è¾¹ç•Œæ¸…æ™°"],
    health: ["ä¿®å¤", "æ’å‹", "è§„å¾‹ä½œæ¯"],
  },
  sagittarius: {
    theme: ["æ¢ç´¢", "è‡ªç”±", "æˆé•¿"],
    career: ["æœºä¼šæ•æ‰", "è§†é‡", "è¡ŒåŠ¨"],
    wealth: ["è§„åˆ’", "é¿å…æ‰¿è¯ºè¿‡å¤š", "ç¨³ä¸­æ±‚è¿›"],
    love: ["å¦è¯š", "ç©ºé—´æ„Ÿ", "è½»æ¾äº’åŠ¨"],
    health: ["èŠ‚å¥æ„Ÿ", "æˆ·å¤–æ´»åŠ¨", "æ”¾æ¾"],
  },
  capricorn: {
    theme: ["è´£ä»»", "é•¿æœŸ", "è‡ªå¾‹"],
    career: ["ç›®æ ‡æ‹†è§£", "æ‰§è¡Œ", "ç¨³æ­¥æ¨è¿›"],
    wealth: ["ç¨³å¥", "é•¿æœŸé…ç½®", "é£é™©æ§åˆ¶"],
    love: ["æ‰¿è¯º", "ç¨³å®š", "è¡ŒåŠ¨å…‘ç°"],
    health: ["è€åŠ›", "è§„å¾‹", "é¿å…è¿‡åŠ³"],
  },
  aquarius: {
    theme: ["åˆ›æ–°", "ç‹¬ç«‹", "å˜é©"],
    career: ["æ–°æ–¹æ³•", "çªç ´å¸¸è§„", "åä½œåˆ›æ–°"],
    wealth: ["æ–°å·¥å…·", "ç†æ€§è§„åˆ’", "æ§åˆ¶æ³¢åŠ¨"],
    love: ["ç†æ€§è¡¨è¾¾", "è‡ªç”±", "å…±è¯†"],
    health: ["èŠ‚å¥ç®¡ç†", "æ”¾æ¾", "æƒ…ç»ªè¡¨è¾¾"],
  },
  pisces: {
    theme: ["å…±æƒ…", "çµæ„Ÿ", "æµªæ¼«"],
    career: ["åˆ›æ„", "æŸ”æ€§æ²Ÿé€š", "æ°›å›´æ„Ÿ"],
    wealth: ["ç¨³å®ˆ", "é¿å…å¹»æƒ³", "å°æ­¥è¯•é”™"],
    love: ["æ¸©æŸ”", "å…±é¸£", "æƒ…æ„Ÿè¿æ¥"],
    health: ["ä¼‘æ¯", "æ”¾æ¾", "æƒ…ç»ªæ•´ç†"],
  },
};

const ZODIAC_TONES = {
  aries: {
    daily: "æ›´é€‚åˆå…ˆåŠ¨èµ·æ¥ï¼Œå†åšå¾®è°ƒã€‚",
    weekly: "ç”¨è¡ŒåŠ¨å»éªŒè¯æ–¹å‘ï¼Œåˆ«æ‹–å¤ªä¹…ã€‚",
    monthly: "æŠŠå†²åŠ²è½¬æˆå¯æŒç»­èŠ‚å¥ã€‚",
    yearly: "ä»¥æŒ‘æˆ˜ä¸ºç‰µå¼•ï¼ŒæŒç»­çªç ´ã€‚",
    love: "ç›´ç‡è¡¨è¾¾æ›´æœ‰æ•ˆã€‚",
  },
  taurus: {
    daily: "ç¨³ä½èŠ‚å¥ï¼Œå…ˆæŠŠåŸºç¡€å¤¯å®ã€‚",
    weekly: "æŠŠæˆæœåšæ‰å®ï¼Œæ¯”é€Ÿåº¦æ›´é‡è¦ã€‚",
    monthly: "ç”¨ç¨³å®šç§¯ç´¯æ¢æ¥å®‰å…¨æ„Ÿã€‚",
    yearly: "è€å¿ƒæŠ•å…¥ä¼šæœ‰å›æŠ¥ã€‚",
    love: "æ…¢çƒ­æ›´èƒ½å»ºç«‹ä¿¡ä»»ã€‚",
  },
  gemini: {
    daily: "ä¿¡æ¯å…ˆæ•´ç†æ¸…æ¥šï¼Œå†ä¸‹ç»“è®ºã€‚",
    weekly: "åˆ†æ¸…ä¼˜å…ˆçº§ï¼Œå‡å°‘åˆ†å¿ƒã€‚",
    monthly: "å¤šæ²Ÿé€šã€å°‘çŠ¹è±«ä¼šæ›´é¡ºã€‚",
    yearly: "æŒç»­å­¦ä¹ èƒ½æ‰“å¼€æ–°è·¯å¾„ã€‚",
    love: "è½»æ¾äº’åŠ¨æ›´å®¹æ˜“å‡æ¸©ã€‚",
  },
  cancer: {
    daily: "å…ˆç…§é¡¾å¥½æƒ…ç»ªï¼Œæ•ˆç‡ä¼šæ›´é«˜ã€‚",
    weekly: "ç¨³å®šå…³ç³»ä¼šæå‡æ•´ä½“æ„Ÿå—ã€‚",
    monthly: "è¥é€ å®‰å…¨æ„Ÿæ˜¯å…³é”®ã€‚",
    yearly: "æŠŠå…³å¿ƒå˜æˆé•¿æœŸé™ªä¼´ã€‚",
    love: "æ¸©æŸ”ä¸å›åº”æ˜¯ä¸»æ—‹å¾‹ã€‚",
  },
  leo: {
    daily: "æŠŠå…‰èŠ’ç”¨åœ¨å…³é”®ä»»åŠ¡ä¸Šã€‚",
    weekly: "æ˜ç¡®ç›®æ ‡ï¼Œå¸¦åŠ¨èŠ‚å¥ã€‚",
    monthly: "ç”¨æˆæœå»ºç«‹å½±å“åŠ›ã€‚",
    yearly: "æŠŠé¢†å¯¼åŠ›æ²‰æ·€æˆæ–¹æ³•ã€‚",
    love: "çƒ­æƒ…è¡¨è¾¾ä¼šæ›´æ‰“åŠ¨äººã€‚",
  },
  virgo: {
    daily: "å…ˆå®šæ ‡å‡†ï¼Œå†åšæ‰§è¡Œã€‚",
    weekly: "æµç¨‹æ¸…æ™°ä¼šæ›´é«˜æ•ˆã€‚",
    monthly: "å¤ç›˜èƒ½å¸¦æ¥æŒç»­ä¼˜åŒ–ã€‚",
    yearly: "ç»†èŠ‚ç§¯ç´¯ä¼šå½¢æˆä¼˜åŠ¿ã€‚",
    love: "ä½“è´´ä¸ç¨³å®šæœ€åŠ åˆ†ã€‚",
  },
  libra: {
    daily: "å…ˆåšæƒè¡¡ï¼Œå†åšå†³å®šã€‚",
    weekly: "æ²Ÿé€šä¸€è‡´æ˜¯æ¨è¿›å…³é”®ã€‚",
    monthly: "ä¿æŒå¹³è¡¡ä¼šæ›´é¡ºç•…ã€‚",
    yearly: "ç¨³å®šå…³ç³»å’Œåˆä½œæ›´é‡è¦ã€‚",
    love: "æ¸…æ™°è¡¨è¾¾æ›´æœ‰å®‰å…¨æ„Ÿã€‚",
  },
  scorpio: {
    daily: "å…ˆçœ‹æœ¬è´¨ï¼Œå†åšé€‰æ‹©ã€‚",
    weekly: "ä¸“æ³¨æ·±æŒ–ä¼šè§æˆæœã€‚",
    monthly: "æ§åˆ¶èŠ‚å¥æ›´æœ‰æŒæ§æ„Ÿã€‚",
    yearly: "é•¿æœŸæ·±è€•æ›´æœ‰åŠ›é‡ã€‚",
    love: "ä¿¡ä»»æ˜¯å…³ç³»çš„åŸºçŸ³ã€‚",
  },
  sagittarius: {
    daily: "å…ˆè®¾æ–¹å‘ï¼Œå†è‡ªç”±å‘æŒ¥ã€‚",
    weekly: "ä¿æŒæ¢ç´¢ï¼Œä½†åˆ«å¿˜æ‰§è¡Œã€‚",
    monthly: "æŠŠè§†é‡è½¬æˆå…·ä½“è¡ŒåŠ¨ã€‚",
    yearly: "é•¿æœŸç›®æ ‡éœ€è¦åšæŒæ„Ÿã€‚",
    love: "å¦è¯šä¸ç©ºé—´æ„Ÿå¹¶è¡Œã€‚",
  },
  capricorn: {
    daily: "ç¨³æ­¥æ¨è¿›ï¼Œæ¯”é€Ÿåº¦æ›´é‡è¦ã€‚",
    weekly: "æ‰§è¡Œä¸å¤ç›˜æ˜¯å…³é”®ã€‚",
    monthly: "è®¾å®šé‡Œç¨‹ç¢‘æ›´æœ‰åŠ¨åŠ›ã€‚",
    yearly: "é•¿æœŸä¸»ä¹‰æ˜¯ä¸»è½´ã€‚",
    love: "ç”¨è¡ŒåŠ¨è¯æ˜åœ¨ä¹ã€‚",
  },
  aquarius: {
    daily: "æ–°æ–¹æ³•ä¼šå¸¦æ¥æ–°çªç ´ã€‚",
    weekly: "ä¿æŒç‹¬ç«‹ï¼Œä½†åˆ«å¿½ç•¥åä½œã€‚",
    monthly: "åˆ›æ–°è¦æœ‰è½åœ°è·¯å¾„ã€‚",
    yearly: "æ„¿æ™¯éœ€è¦è€å¿ƒæ²‰æ·€ã€‚",
    love: "çœŸè¯šä¸è¾¹ç•ŒåŒæ ·é‡è¦ã€‚",
  },
  pisces: {
    daily: "æƒ…ç»ªç¨³å®šåæ•ˆç‡æ›´é«˜ã€‚",
    weekly: "å…ˆç…§é¡¾è‡ªå·±ï¼Œå†å…³å¿ƒåˆ«äººã€‚",
    monthly: "æŠŠçµæ„Ÿè½åˆ°å…·ä½“è®¡åˆ’ã€‚",
    yearly: "ç¨³å®šçš„èŠ‚å¥æ›´æœ‰å®‰å…¨æ„Ÿã€‚",
    love: "å…±æƒ…èƒ½æ‹‰è¿‘è·ç¦»ã€‚",
  },
};

function buildAnalysis(profile) {
  const formatContentNodes = (content) => {
    const marker = "æ¯”å¦‚ï¼š";
    const idx = content.indexOf(marker);
    if (idx === -1) {
      return [{ type: "text", text: content }];
    }
    const before = content.slice(0, idx).trim();
    const after = content.slice(idx + marker.length).trim();
    return [
      { type: "text", text: before },
      { name: "br" },
      {
        name: "div",
        attrs: { class: "analysis-example-block" },
        children: [
          {
            name: "div",
            attrs: { class: "analysis-example-label" },
            children: [{ type: "text", text: marker }],
          },
          {
            name: "div",
            attrs: { class: "analysis-example-text" },
            children: [{ type: "text", text: after }],
          },
        ],
      },
    ];
  };

  return [
    {
      title: "åŸºæœ¬ç‰¹è´¨",
      content: profile.analysis.basic,
      contentNodes: formatContentNodes(profile.analysis.basic),
    },
    {
      title: "å…·ä½“ç‰¹è´¨",
      content: profile.analysis.specific,
      contentNodes: formatContentNodes(profile.analysis.specific),
    },
    {
      title: "è¡Œäº‹é£æ ¼",
      content: profile.analysis.style,
      contentNodes: formatContentNodes(profile.analysis.style),
    },
    {
      title: "ä¸ªæ€§ç›²ç‚¹",
      content: profile.analysis.blind,
      contentNodes: formatContentNodes(profile.analysis.blind),
    },
    {
      title: "æ€»ç»“",
      content: profile.analysis.summary,
      contentNodes: formatContentNodes(profile.analysis.summary),
    },
  ];
}

function getTodayKey() {
  const now = new Date();
  const year = now.getFullYear();
  const month = String(now.getMonth() + 1).padStart(2, "0");
  const day = String(now.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
}

function getWeekKey(date) {
  const dayIndex = date.getDay();
  const startOfWeek = new Date(
    date.getFullYear(),
    date.getMonth(),
    date.getDate() - dayIndex
  );
  const year = startOfWeek.getFullYear();
  const month = String(startOfWeek.getMonth() + 1).padStart(2, "0");
  const day = String(startOfWeek.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
}

function getMonthKey(date) {
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, "0");
  return `${year}-${month}`;
}

function getYearKey(date) {
  return `${date.getFullYear()}`;
}

function getYesterdayKey() {
  const now = new Date();
  const yesterday = new Date(now.getFullYear(), now.getMonth(), now.getDate() - 1);
  const year = yesterday.getFullYear();
  const month = String(yesterday.getMonth() + 1).padStart(2, "0");
  const day = String(yesterday.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
}

function hashString(input) {
  let hash = 0;
  for (let i = 0; i < input.length; i += 1) {
    hash = (hash << 5) - hash + input.charCodeAt(i);
    hash |= 0;
  }
  return Math.abs(hash);
}

function clampScore(score) {
  return Math.min(5, Math.max(1, score));
}

function updateBehaviorStreak() {
  const todayKey = getTodayKey();
  const yesterdayKey = getYesterdayKey();
  const behavior = wx.getStorageSync(DAILY_BEHAVIOR_KEY) || {};
  let streak = behavior.streak || 0;

  if (behavior.lastDate === todayKey) {
    return streak;
  }

  if (behavior.lastDate === yesterdayKey) {
    streak += 1;
  } else {
    streak = 1;
  }

  wx.setStorageSync(DAILY_BEHAVIOR_KEY, {
    lastDate: todayKey,
    streak,
  });

  return streak;
}

function buildPersonalHint(userProfile) {
  if (!userProfile) {
    return "";
  }
  const hints = [];
  if (userProfile.birthTime) {
    hints.push("é€‚åˆæ—©åšè§„åˆ’ï¼ŒæŠŠç²¾åŠ›ç•™ç»™å…³é”®ç›®æ ‡ã€‚");
  }
  if (userProfile.livePlace && userProfile.livePlace.length) {
    hints.push("åœ¨ç†Ÿæ‚‰ç¯å¢ƒä¸­æ›´èƒ½å‘æŒ¥ç¨³å®šä¼˜åŠ¿ã€‚");
  }
  if (userProfile.gender) {
    hints.push("ä»Šå¤©é€‚åˆæ›´æ¸…æ™°åœ°è¡¨è¾¾éœ€æ±‚ä¸è¾¹ç•Œã€‚");
  }
  return hints.length ? hints.join(" ") : "";
}

function buildKeywordHints(zodiacId) {
  const bank = ZODIAC_KEYWORDS[zodiacId];
  if (!bank) {
    return {};
  }
  const format = (label, list) =>
    list && list.length ? `${label}å…³é”®è¯ï¼š${list.join("ã€")}ã€‚` : "";
  return {
    theme: format("ä¸»é¢˜", bank.theme),
    career: format("äº‹ä¸š", bank.career),
    wealth: format("è´¢åŠ¡", bank.wealth),
    love: format("çˆ±æƒ…", bank.love),
    health: format("å¥åº·", bank.health),
  };
}

function buildKeywordList(zodiacId) {
  return ZODIAC_KEYWORDS[zodiacId] || {};
}

function buildToneHints(zodiacId) {
  return ZODIAC_TONES[zodiacId] || {};
}

function getDateFromKey(dateKey) {
  if (!dateKey) {
    return new Date();
  }
  const parts = dateKey.split("-");
  if (parts.length === 3) {
    return new Date(
      Number(parts[0]),
      Number(parts[1]) - 1,
      Number(parts[2])
    );
  }
  if (parts.length === 2) {
    return new Date(Number(parts[0]), Number(parts[1]) - 1, 1);
  }
  if (parts.length === 1) {
    return new Date(Number(parts[0]), 0, 1);
  }
  return new Date();
}

function getPrevDateKey(tabKey, dateKey) {
  const date = getDateFromKey(dateKey);
  if (tabKey === "weekly") {
    const prev = new Date(date.getFullYear(), date.getMonth(), date.getDate() - 7);
    return getWeekKey(prev);
  }
  if (tabKey === "monthly") {
    const prev = new Date(date.getFullYear(), date.getMonth() - 1, 1);
    return getMonthKey(prev);
  }
  if (tabKey === "yearly") {
    const prev = new Date(date.getFullYear() - 1, 0, 1);
    return getYearKey(prev);
  }
  if (tabKey === "love") {
    return getTodayKey();
  }
  const prev = new Date(date.getFullYear(), date.getMonth(), date.getDate() - 1);
  return `${prev.getFullYear()}-${String(prev.getMonth() + 1).padStart(
    2,
    "0"
  )}-${String(prev.getDate()).padStart(2, "0")}`;
}

function getTrendShift(dateKey, zodiacId, tabKey) {
  const date = getDateFromKey(dateKey);
  const start = new Date(date.getFullYear(), 0, 0);
  const diff = date - start;
  const dayOfYear = Math.floor(diff / 86400000);
  const seed = hashString(`${zodiacId}:${tabKey}`);
  const phase = (seed % 360) * (Math.PI / 180);
  const seasonal = Math.sin((dayOfYear / 365) * Math.PI * 2 + phase);
  const tabScale = tabKey === "yearly" ? 0.3 : tabKey === "monthly" ? 0.6 : tabKey === "weekly" ? 0.8 : 1;
  return Math.round(seasonal * tabScale);
}

function buildFortune(profile, zodiacId, tabKey, dateKey, userProfile) {
  const scoreTextMap = {
    5: "è¡¨ç°äº®çœ¼ï¼Œé€‚åˆå¤§èƒ†æ¨è¿›ã€‚",
    4: "ç¨³ä¸­å‘å¥½ï¼Œä¿æŒèŠ‚å¥æ›´æœ‰æ”¶è·ã€‚",
    3: "å¹³ç¨³æ™®é€šï¼Œç»†èŠ‚å†³å®šä½“éªŒã€‚",
    2: "å®¹æ˜“åˆ†å¿ƒï¼Œå»ºè®®ä¿å®ˆåº”å¯¹ã€‚",
    1: "èµ·ä¼è¾ƒå¤šï¼Œå…ˆç¨³ä½å†è¡ŒåŠ¨ã€‚",
  };
  const getScoreText = (score) =>
    scoreTextMap[score] || "ä¿æŒå¹³å’Œï¼Œå¾ªåºæ¸è¿›ã€‚";
  const cache = wx.getStorageSync(FORTUNE_CACHE_KEY) || {};
  const cachedByDate = cache[dateKey] || {};
  const cachedByZodiac = cachedByDate[zodiacId] || {};
  const cached = cachedByZodiac[tabKey];
  if (cached) {
    return cached;
  }

  const streak = updateBehaviorStreak();
  const streakBonus = Math.min(1, Math.floor(streak / 3));
  const hashSeed = `${dateKey}:${zodiacId}:${tabKey}:${streak}`;
  const seed = hashString(hashSeed);
  const fluctuation = (seed % 3) - 1;
  const trendShift = getTrendShift(dateKey, zodiacId, tabKey);
  const scoreBase = {
    love: profile.fortune.love,
    career: profile.fortune.career,
    wealth: profile.fortune.wealth,
    health: profile.fortune.health,
  };
  const scoreWeights = {
    love: (seed % 2) ? 1 : 0,
    career: (seed % 3) ? 1 : 0,
    wealth: (seed % 5) ? 0 : 1,
    health: (seed % 7) ? 0 : 1,
  };
  const tabMultiplier = tabKey === "yearly" ? 0 : 1;
  const smoothing =
    tabKey === "yearly" ? 0.7 : tabKey === "monthly" ? 0.6 : tabKey === "weekly" ? 0.5 : 0.4;
  const prevKey = getPrevDateKey(tabKey, dateKey);
  const prevCache = cache[prevKey] || {};
  const prevZodiac = prevCache[zodiacId] || {};
  const prevFortune = prevZodiac[tabKey];
  const scores = {
    love: clampScore(scoreBase.love + fluctuation + trendShift + scoreWeights.love + streakBonus),
    career: clampScore(
      scoreBase.career + fluctuation + trendShift + scoreWeights.career + tabMultiplier
    ),
    wealth: clampScore(scoreBase.wealth + fluctuation + trendShift + scoreWeights.wealth),
    health: clampScore(scoreBase.health + fluctuation + trendShift + scoreWeights.health),
  };
  if (prevFortune && prevFortune.scores) {
    const prev = prevFortune.scores.reduce((acc, item) => {
      acc[item.label] = item.score;
      return acc;
    }, {});
    scores.love = clampScore(
      Math.round(scores.love * (1 - smoothing) + (prev["çˆ±æƒ…"] || scores.love) * smoothing)
    );
    scores.career = clampScore(
      Math.round(
        scores.career * (1 - smoothing) + (prev["äº‹ä¸š"] || scores.career) * smoothing
      )
    );
    scores.wealth = clampScore(
      Math.round(
        scores.wealth * (1 - smoothing) + (prev["è´¢è¿"] || scores.wealth) * smoothing
      )
    );
    scores.health = clampScore(
      Math.round(
        scores.health * (1 - smoothing) + (prev["å¥åº·"] || scores.health) * smoothing
      )
    );
  }
  const overall = clampScore(
    Math.round((scores.love + scores.career + scores.wealth + scores.health) / 4)
  );
  const personalHint = buildPersonalHint(userProfile);
  const keywordHints = buildKeywordHints(zodiacId);
  const keywordList = buildKeywordList(zodiacId);
  const toneHints = buildToneHints(zodiacId);
  const tabPrefix = {
    daily: "ä»Šæ—¥",
    weekly: "æœ¬å‘¨",
    monthly: "æœ¬æœˆ",
    yearly: "ä»Šå¹´",
    love: "çˆ±æƒ…é¢",
  }[tabKey] || "ä»Šæ—¥";

  const zodiacFlavor = {
    daily: `ä»¥${profile.desc}çš„ä¼˜åŠ¿åˆ‡å…¥ä¼šæ›´é¡ºæ‰‹ã€‚`,
    weekly: `ä»¥â€œ${profile.facts.max}â€ä¸ºæ ¸å¿ƒæ¨è¿›ï¼Œä¼šæ›´ç¨³å®šã€‚`,
    monthly: `æœ¬æœˆé€‚åˆæŠŠ${profile.facts.element}èƒ½é‡ç”¨åœ¨é•¿æœŸç§¯ç´¯ä¸Šã€‚`,
    yearly: `å¹´åº¦ä¸»çº¿å®œå›´ç»•${profile.facts.ruler}çš„ç‰¹è´¨å±•å¼€ã€‚`,
    love: `æƒ…æ„Ÿè¡¨è¾¾æ›´é€‚åˆ${profile.facts.element}å¼çš„èŠ‚å¥ã€‚`,
  };

  const quotesByTab = {
    daily: profile.quote,
    weekly: "æŠŠé‡ç‚¹æ”¾åœ¨ç¨³æ­¥æ¨è¿›ã€‚",
    monthly: "ä»¥é•¿æœŸèŠ‚å¥ç»„ç»‡å½“ä¸‹è¡ŒåŠ¨ã€‚",
    yearly: "è®©ç›®æ ‡æˆä¸ºä½ çš„æ–¹å‘æ„Ÿã€‚",
    love: "æŠŠçœŸè¯šæ”¾åœ¨ç¬¬ä¸€ä½ã€‚",
  };
  const tabQuote = quotesByTab[tabKey] || profile.quote;

  const detailBuilders = {
    daily: [
      {
        title: "ç»¼åˆè¿åŠ¿",
        icon: "â­",
        score: overall,
        text: `${profile.name}${tabPrefix}æ•´ä½“èŠ‚å¥${overall >= 4 ? "åç§¯æ" : "åå¹³ç¨³"}ï¼Œæ›´é€‚åˆå›´ç»•â€œ${profile.facts.max}â€ä¼˜åŠ¿æ¨è¿›æ ¸å¿ƒäº‹é¡¹ã€‚${getScoreText(
          overall
        )}æŠŠç²¾åŠ›é›†ä¸­åœ¨æœ€èƒ½äº§ç”Ÿæˆæœçš„ 20%ï¼Œæ•ˆæœä¼šæ›´æ˜æ˜¾ã€‚${zodiacFlavor.daily} ${keywordHints.theme || ""} ${
          personalHint ? ` ${personalHint}` : ""
        } ${toneHints.daily || ""}`,
      },
      {
        title: "äº‹ä¸šå­¦ä¸š",
        icon: "ğŸ‘‘",
        score: scores.career,
        text: `äº‹ä¸šå­¦ä¸šä¾§é‡ç‚¹åœ¨â€œ${profile.facts.max}â€ï¼Œå®œå…ˆæ­ç»“æ„å†å¡«ç»†èŠ‚ã€‚${getScoreText(
          scores.career
        )}æŠŠå¤æ‚ä»»åŠ¡æ‹†æˆ 2-3 ä¸ªé‡Œç¨‹ç¢‘ï¼Œä¼šæ›´å®¹æ˜“çœ‹è§è¿›åº¦ï¼Œä¹Ÿèƒ½é™ä½æ‹–å»¶æ„Ÿã€‚${profile.name}æ›´é€‚åˆåœ¨ä¸Šåˆå®Œæˆå…³é”®æ­¥éª¤ã€‚${keywordHints.career} ${toneHints.daily || ""}`,
      },
      {
        title: "è´¢å¯Œè¿åŠ¿",
        icon: "ğŸ’°",
        score: scores.wealth,
        text: `è´¢åŠ¡æ–¹é¢é€‚åˆâ€œç¨³â€å­—å½“å¤´ï¼Œå…ˆæ§æ”¯å‡ºå†è°ˆå¢é•¿ã€‚${getScoreText(
          scores.wealth
        )}å¯ä»¥å°é¢è¯•é”™ã€é¿å…å†²åŠ¨æ¶ˆè´¹ï¼Œè®©ç°é‡‘æµæ›´å®‰å¿ƒã€‚${profile.facts.element}å±æ€§æ›´é€‚åˆâ€œæ…¢æ…¢æ”’â€çš„æ–¹å¼ã€‚${keywordHints.wealth} ${toneHints.daily || ""}`,
      },
      {
        title: "çˆ±æƒ…è¿åŠ¿",
        icon: "ğŸ’—",
        score: scores.love,
        text: `æƒ…æ„Ÿäº’åŠ¨æ›´éœ€è¦æ¸…æ™°è¡¨è¾¾ä¸åŠæ—¶å›åº”ã€‚${getScoreText(
          scores.love
        )}å•èº«é€‚åˆå…ˆå»ºç«‹è½»æ¾äº’åŠ¨ï¼Œå†æ¨è¿›æ·±å…¥äº†è§£ï¼›æœ‰ä¼´åˆ™å¯é€šè¿‡å°ä»ªå¼æ„Ÿå¼ºåŒ–è¿ç»“ã€‚${zodiacFlavor.love} ${keywordHints.love} ${toneHints.love || ""}`,
      },
      {
        title: "å¥åº·è¿åŠ¿",
        icon: "ğŸƒ",
        score: scores.health,
        text: `èº«ä½“çŠ¶æ€ä»¥â€œ${profile.facts.element}â€çš„èŠ‚å¥ä¸ºå®œï¼Œç¨³å®šæ¯”å¼ºåº¦æ›´é‡è¦ã€‚${getScoreText(
          scores.health
        )}å»ºè®®ä¼˜å…ˆä¿è¯ç¡çœ ä¸è¡¥æ°´ï¼Œé€‚åº¦æ‹‰ä¼¸æˆ–è½»è¿åŠ¨æ›´èƒ½æ¢å¤ç²¾åŠ›ã€‚${profile.name}ä»Šå¤©æ›´é€‚åˆåšä½å¼ºåº¦æ¢å¤ã€‚${keywordHints.health} ${toneHints.daily || ""}`,
      },
    ],
    weekly: [
      {
        title: "æœ¬å‘¨ä¸»é¢˜",
        icon: "ğŸ—“ï¸",
        score: overall,
        text: `${profile.name}æœ¬å‘¨ä¸»çº¿æ›´å${overall >= 4 ? "æ¨è¿›" : "ç¨³ä½"}ï¼Œé€‚åˆä»¥â€œé˜¶æ®µæ€§æˆæœâ€åšèŠ‚å¥é”šç‚¹ã€‚${getScoreText(
          overall
        )}å…ˆå®Œæˆä¸€ä»¶èƒ½å¸¦æ¥ç¡®å®šæ€§çš„ä»»åŠ¡ï¼Œä¼šæ˜¾è‘—æå‡åç»­åŠ¨åŠ›ã€‚${zodiacFlavor.weekly} ${keywordHints.theme || ""} ${
          personalHint ? ` ${personalHint}` : ""
        } ${toneHints.weekly || ""}`,
      },
      {
        title: "äº‹ä¸šèŠ‚å¥",
        icon: "ğŸ§­",
        score: scores.career,
        text: `äº‹ä¸šå­¦ä¸šé€‚åˆæ‹‰é•¿æ—¶é—´ç»´åº¦å®‰æ’ï¼Œå…ˆåšç»“æ„å†åšç»†èŠ‚ã€‚${getScoreText(
          scores.career
        )}å»ºè®®æŠŠæ¯å‘¨é‡ç‚¹æ§åˆ¶åœ¨ 2-3 ä»¶ï¼Œé¿å…è¢«ç¢ç‰‡ä»»åŠ¡ç¨€é‡Šæ³¨æ„åŠ›ã€‚${keywordHints.career} ${toneHints.weekly || ""}`,
      },
      {
        title: "è´¢åŠ¡è§„åˆ’",
        icon: "ğŸ’¼",
        score: scores.wealth,
        text: `æœ¬å‘¨æ›´é€‚åˆåšé¢„ç®—æ¢³ç†ä¸å°æ­¥è¯•é”™ã€‚${getScoreText(
          scores.wealth
        )}å¯ä»¥è®¾ç½®â€œæœ¬å‘¨æ”¯å‡ºä¸Šé™â€ï¼Œè®©æ¶ˆè´¹æ›´æœ‰è¾¹ç•Œæ„Ÿã€‚${keywordHints.wealth} ${toneHints.weekly || ""}`,
      },
      {
        title: "å…³ç³»æç¤º",
        icon: "ğŸ¤",
        score: scores.love,
        text: `å…³ç³»ä¸­æ›´éœ€è¦ç¨³å®šæ²Ÿé€šå’ŒæŒç»­å›åº”ã€‚${getScoreText(
          scores.love
        )}æŠŠä¸€æ¬¡å¦è¯šçš„å¯¹è¯æ”¾åœ¨è½»æ¾åœºæ™¯é‡Œï¼Œæ•ˆæœæ›´å¥½ã€‚${keywordHints.love} ${toneHints.weekly || ""}`,
      },
      {
        title: "èº«å¿ƒç®¡ç†",
        icon: "ğŸƒ",
        score: scores.health,
        text: `ä¿æŒèŠ‚å¥æ¯”å†²åˆºæ›´é‡è¦ï¼Œé€‚åº¦ä¼‘æ¯ä¼šæå‡æ•ˆç‡ã€‚${getScoreText(
          scores.health
        )}å»ºè®®å›ºå®šä¸€æ®µâ€œä½å™ªéŸ³æ—¶é—´â€ï¼Œè®©èº«å¿ƒçœŸæ­£åœä¸‹æ¥ã€‚${keywordHints.health} ${toneHints.weekly || ""}`,
      },
    ],
    monthly: [
      {
        title: "æœ¬æœˆé‡ç‚¹",
        icon: "ğŸ“Œ",
        score: overall,
        text: `${profile.name}æœ¬æœˆæ›´å¼ºè°ƒâ€œ${profile.facts.max}â€çš„ä¼˜åŠ¿å‘æŒ¥ï¼Œé€‚åˆç¡®ç«‹é˜¶æ®µç›®æ ‡ä¸å…³é”®æŒ‡æ ‡ã€‚${getScoreText(
          overall
        )}æŠŠç›®æ ‡æ‹†æˆâ€œå¯éªŒè¯çš„å°æˆæœâ€ï¼Œæ›´å®¹æ˜“ä¿æŒç¨³å®šäº§å‡ºã€‚${zodiacFlavor.monthly} ${keywordHints.theme || ""} ${
          personalHint ? ` ${personalHint}` : ""
        } ${toneHints.monthly || ""}`,
      },
      {
        title: "äº‹ä¸šå¸ƒå±€",
        icon: "ğŸ—ï¸",
        score: scores.career,
        text: `é€‚åˆåšé•¿æœŸè§„åˆ’ä¸èŠ‚å¥é“ºæ’ï¼ŒæŠŠå…³é”®èŠ‚ç‚¹å…ˆé”å®šã€‚${getScoreText(
          scores.career
        )}å»ºè®®æå‰å®Œæˆ 1 ä¸ªå¯äº¤ä»˜æˆæœï¼Œå»ºç«‹â€œå¯è§çš„è¿›åº¦æ„Ÿâ€ã€‚${keywordHints.career} ${toneHints.monthly || ""}`,
      },
      {
        title: "è´¢åŠ¡ç­–ç•¥",
        icon: "ğŸ“Š",
        score: scores.wealth,
        text: `æœ¬æœˆé€‚åˆä¼˜åŒ–æ”¯å‡ºç»“æ„æˆ–å»ºç«‹å‚¨å¤‡ã€‚${getScoreText(
          scores.wealth
        )}æŠŠâ€œå›ºå®šæ”¯å‡º/å¼¹æ€§æ”¯å‡ºâ€åˆ†å¼€ï¼Œä¼šæ›´å®¹æ˜“åšè°ƒæ•´ã€‚${keywordHints.wealth} ${toneHints.monthly || ""}`,
      },
      {
        title: "æƒ…æ„Ÿæ°›å›´",
        icon: "ğŸ’",
        score: scores.love,
        text: `å…³ç³»æ›´é€‚åˆè¥é€ ç¨³å®šã€å®‰å…¨çš„äº’åŠ¨æ°›å›´ã€‚${getScoreText(
          scores.love
        )}å¯ä»¥çº¦å®šå›ºå®šçš„ç›¸å¤„æ—¶é—´ï¼Œè®©å½¼æ­¤éƒ½æœ‰å¯é¢„æœŸçš„è¿æ¥æ„Ÿã€‚${keywordHints.love} ${toneHints.monthly || ""}`,
      },
      {
        title: "å¥åº·ç®¡ç†",
        icon: "ğŸ§˜",
        score: scores.health,
        text: `é€‚åˆå»ºç«‹å¯æŒç»­çš„ä½œæ¯ä¸è¿åŠ¨èŠ‚å¥ã€‚${getScoreText(
          scores.health
        )}é‡ç‚¹åœ¨â€œè§„å¾‹â€ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å¼ºåº¦ã€‚${keywordHints.health} ${toneHints.monthly || ""}`,
      },
    ],
    yearly: [
      {
        title: "å¹´åº¦ä¸»çº¿",
        icon: "ğŸŒŸ",
        score: overall,
        text: `${profile.name}ä»Šå¹´æ›´å¼ºè°ƒé•¿æœŸä¸»ä¹‰ä¸ç§¯ç´¯ï¼Œé€‚åˆåˆ¶å®šæ¸…æ™°é‡Œç¨‹ç¢‘ä¸é˜¶æ®µå¤ç›˜ç‚¹ã€‚${getScoreText(
          overall
        )}æŠŠç›®æ ‡æ”¾åœ¨â€œå¯æŒç»­æˆé•¿â€ä¸Šï¼Œä¼šæ›´ç¨³æ›´æœ‰æ”¶è·ã€‚${zodiacFlavor.yearly} ${keywordHints.theme || ""} ${
          personalHint ? ` ${personalHint}` : ""
        } ${toneHints.yearly || ""}`,
      },
      {
        title: "äº‹ä¸šæ–¹å‘",
        icon: "ğŸš€",
        score: scores.career,
        text: `å¹´åº¦äº‹ä¸šé€‚åˆç¡®å®šèµ›é“ä¸æŒç»­æ·±è€•ï¼Œé¿å…é¢‘ç¹åˆ‡æ¢ã€‚${getScoreText(
          scores.career
        )}å»ºè®®å»ºç«‹ä¸ªäººæ–¹æ³•è®ºï¼Œé€æ­¥å½¢æˆå¯å¤ç”¨çš„èƒ½åŠ›æ¨¡å‹ã€‚${keywordHints.career} ${toneHints.yearly || ""}`,
      },
      {
        title: "è´¢å¯Œç­–ç•¥",
        icon: "ğŸ¦",
        score: scores.wealth,
        text: `é€‚åˆç¨³å¥é…ç½®ä¸é•¿æœŸè§„åˆ’ï¼Œæ§åˆ¶é£é™©æ›´é‡è¦ã€‚${getScoreText(
          scores.wealth
        )}é¿å…è¿‡åº¦åˆ†æ•£ï¼Œå…ˆæŠŠåŸºç¡€ç›˜æ‰“ç¨³ã€‚${keywordHints.wealth} ${toneHints.yearly || ""}`,
      },
      {
        title: "å…³ç³»é•¿æœŸ",
        icon: "ğŸ’",
        score: scores.love,
        text: `å…³ç³»æ›´çœ‹é‡é•¿æœŸæ‰¿è¯ºä¸ä»·å€¼è§‚ä¸€è‡´ã€‚${getScoreText(
          scores.love
        )}é€‚åˆå»ºç«‹æ¸…æ™°çš„æ²Ÿé€šè§„åˆ™ä¸å…±åŒç›®æ ‡ã€‚${keywordHints.love} ${toneHints.yearly || ""}`,
      },
      {
        title: "å¥åº·èŠ‚å¥",
        icon: "ğŸŒ¿",
        score: scores.health,
        text: `é•¿æœŸå¥åº·æ›´éœ€è¦è§„å¾‹ä¸è€å¿ƒæŠ•å…¥ã€‚${getScoreText(
          scores.health
        )}å»ºè®®æŠŠä½“æ£€/è¿åŠ¨è®¡åˆ’åˆ—å…¥å¹´åº¦æ¸…å•ã€‚${keywordHints.health} ${toneHints.yearly || ""}`,
      },
    ],
    love: [
      {
        title: "æƒ…æ„Ÿæ°›å›´",
        icon: "ğŸ’—",
        score: scores.love,
        text: `çˆ±æƒ…é¢æ•´ä½“å${scores.love >= 4 ? "ç§¯æ" : "å¹³ç¨³"}ï¼ŒæŠŠçœŸè¯šæ”¾åœ¨é¦–ä½ä¼šæ›´é¡ºåˆ©ã€‚${getScoreText(
          scores.love
        )}åœ¨è¡¨è¾¾æ„Ÿå—æ—¶é¿å…â€œæ‹å¼¯çŒœæµ‹â€ï¼Œè¶Šæ¸…æ™°è¶Šæ¸©æŸ”ã€‚${zodiacFlavor.love} ${keywordHints.love} ${
          personalHint ? ` ${personalHint}` : ""
        } ${toneHints.love || ""}`,
      },
      {
        title: "å•èº«å»ºè®®",
        icon: "âœ¨",
        score: scores.love,
        text: `é€‚åˆåœ¨è½»æ¾åœºæ™¯ä¸»åŠ¨è¡¨è¾¾å…´è¶£ï¼Œä¿æŒè‡ªç„¶ä¸æ¾å¼›æ„Ÿã€‚${getScoreText(
          scores.love
        )}å…ˆä»å…±åŒè¯é¢˜å»ºç«‹è¿æ¥ï¼Œå†æ¨è¿›æ›´æ·±å…¥çš„äº’åŠ¨ã€‚${keywordHints.love} ${toneHints.love || ""}`,
      },
      {
        title: "æœ‰ä¼´å»ºè®®",
        icon: "ğŸ¤",
        score: scores.love,
        text: `æ›´é€‚åˆå…±åŒå®‰æ’å¯è½å®çš„å°è®¡åˆ’ï¼Œå¢å¼ºå®‰å…¨æ„Ÿä¸ä¿¡ä»»æ„Ÿã€‚${getScoreText(
          scores.love
        )}â€œæŠŠè¯è¯´æ¸…æ¥šã€æŠŠäº‹åšè½åœ°â€ä¼šå‡å°‘è¯¯è§£ã€‚${keywordHints.love} ${toneHints.love || ""}`,
      },
      {
        title: "æ²Ÿé€šå…³é”®è¯",
        icon: "ğŸ—£ï¸",
        score: overall,
        text: `æ¸…æ™°ã€å›åº”ã€å…±æƒ…æ˜¯å…³é”®è¯ï¼Œé¿å…å«ç³Šæˆ–è¿‡åº¦çŒœæµ‹ã€‚${getScoreText(
          overall
        )}æŠŠâ€œæˆ‘éœ€è¦â€ä¸â€œæˆ‘æ„Ÿå—â€åŒºåˆ†å¼€è¡¨è¾¾ï¼Œæ›´å®¹æ˜“è¢«ç†è§£ã€‚${keywordHints.love} ${toneHints.love || ""}`,
      },
      {
        title: "è‡ªæˆ‘å…³æ€€",
        icon: "ğŸŒ™",
        score: scores.health,
        text: `æŠŠæƒ…ç»ªç…§é¡¾å¥½ï¼Œå…³ç³»æ‰æ›´ç¨³ã€‚é€‚åˆå®‰æ’æ”¾æ¾ä¸è‡ªæˆ‘ä¿®å¤ã€‚${getScoreText(
          scores.health
        )}è®©è‡ªå·±å…ˆå®‰å®šä¸‹æ¥ï¼Œä¼šæ›´å®¹æ˜“ç»™å‡ºç¨³å®šå›åº”ã€‚${keywordHints.health} ${toneHints.love || ""}`,
      },
    ],
  };

  const tagMap = {
    theme: keywordList.theme || [],
    career: keywordList.career || [],
    wealth: keywordList.wealth || [],
    love: keywordList.love || [],
    health: keywordList.health || [],
  };
  const actionTemplates = {
    theme: {
      daily: "è¡ŒåŠ¨å»ºè®®ï¼šå®Œæˆä¸€ä»¶æœ€å…³é”®ä»»åŠ¡ã€‚",
      weekly: "è¡ŒåŠ¨å»ºè®®ï¼šè®¾å®šä¸€ä¸ªé˜¶æ®µæ€§æˆæœã€‚",
      monthly: "è¡ŒåŠ¨å»ºè®®ï¼šé”å®šä¸€ä¸ªå¯éªŒè¯ç›®æ ‡ã€‚",
      yearly: "è¡ŒåŠ¨å»ºè®®ï¼šè®¾å®šå¹´åº¦é‡Œç¨‹ç¢‘ã€‚",
      love: "è¡ŒåŠ¨å»ºè®®ï¼šä¸»åŠ¨è¡¨è¾¾çœŸå®éœ€æ±‚ã€‚",
    },
    career: {
      daily: "è¡ŒåŠ¨å»ºè®®ï¼šå…ˆåšç»“æ„å†è½ç»†èŠ‚ã€‚",
      weekly: "è¡ŒåŠ¨å»ºè®®ï¼šæ§åˆ¶æ¯å‘¨é‡ç‚¹åœ¨ 2-3 ä»¶ã€‚",
      monthly: "è¡ŒåŠ¨å»ºè®®ï¼šæå‰äº¤ä»˜ä¸€ä¸ªå¯è§æˆæœã€‚",
      yearly: "è¡ŒåŠ¨å»ºè®®ï¼šå»ºç«‹å¯å¤ç”¨çš„æ–¹æ³•è®ºã€‚",
      love: "è¡ŒåŠ¨å»ºè®®ï¼šåœ¨ç›¸å¤„ä¸­ä¿æŒæ˜ç¡®å›åº”ã€‚",
    },
    wealth: {
      daily: "è¡ŒåŠ¨å»ºè®®ï¼šè®°å½•æ”¯å‡ºå¹¶è®¾å®šä¸Šé™ã€‚",
      weekly: "è¡ŒåŠ¨å»ºè®®ï¼šåšä¸€æ¬¡é¢„ç®—å¤ç›˜ã€‚",
      monthly: "è¡ŒåŠ¨å»ºè®®ï¼šè°ƒæ•´å›ºå®š/å¼¹æ€§æ”¯å‡ºæ¯”ä¾‹ã€‚",
      yearly: "è¡ŒåŠ¨å»ºè®®ï¼šå»ºç«‹é•¿æœŸå‚¨å¤‡ä¸é£é™©æ§åˆ¶ã€‚",
      love: "è¡ŒåŠ¨å»ºè®®ï¼šç”¨å°æŠ•å…¥åˆ¶é€ ä»ªå¼æ„Ÿã€‚",
    },
    love: {
      daily: "è¡ŒåŠ¨å»ºè®®ï¼šç”¨æ¸…æ™°è¡¨è¾¾å‡å°‘è¯¯è§£ã€‚",
      weekly: "è¡ŒåŠ¨å»ºè®®ï¼šå®‰æ’ä¸€æ¬¡é«˜è´¨é‡å¯¹è¯ã€‚",
      monthly: "è¡ŒåŠ¨å»ºè®®ï¼šå»ºç«‹å›ºå®šç›¸å¤„èŠ‚å¥ã€‚",
      yearly: "è¡ŒåŠ¨å»ºè®®ï¼šå¯¹é½é•¿æœŸä»·å€¼è§‚ä¸ç›®æ ‡ã€‚",
      love: "è¡ŒåŠ¨å»ºè®®ï¼šçœŸè¯šè¯´å‡ºæœŸå¾…ä¸è¾¹ç•Œã€‚",
    },
    health: {
      daily: "è¡ŒåŠ¨å»ºè®®ï¼šä¼˜å…ˆä¿è¯ç¡çœ ä¸è¡¥æ°´ã€‚",
      weekly: "è¡ŒåŠ¨å»ºè®®ï¼šå®‰æ’ä¸€æ¬¡æ·±åº¦ä¼‘æ¯ã€‚",
      monthly: "è¡ŒåŠ¨å»ºè®®ï¼šå½¢æˆè§„å¾‹ä½œæ¯ä¸è¿åŠ¨ã€‚",
      yearly: "è¡ŒåŠ¨å»ºè®®ï¼šæŠŠä½“æ£€/è¿åŠ¨åˆ—å…¥æ¸…å•ã€‚",
      love: "è¡ŒåŠ¨å»ºè®®ï¼šå…ˆç¨³å®šæƒ…ç»ªå†æ²Ÿé€šã€‚",
    },
  };
  const riskTemplates = {
    theme: {
      daily: "é£é™©æé†’ï¼šå¤šçº¿å¹¶è¡Œä¼šç¨€é‡Šæˆæœã€‚",
      weekly: "é£é™©æé†’ï¼šèŠ‚å¥è¿‡å¿«æ˜“ç–²æƒ«ã€‚",
      monthly: "é£é™©æé†’ï¼šç›®æ ‡è¿‡å¤šä¼šåˆ†æ•£èƒ½é‡ã€‚",
      yearly: "é£é™©æé†’ï¼šé¢‘ç¹åˆ‡æ¢ä¼šå‰Šå¼±ç§¯ç´¯ã€‚",
      love: "é£é™©æé†’ï¼šå›é¿æ²Ÿé€šä¼šåŠ æ·±è¯¯ä¼šã€‚",
    },
    career: {
      daily: "é£é™©æé†’ï¼šè¢«çäº‹æ‰“æ–­èŠ‚å¥ã€‚",
      weekly: "é£é™©æé†’ï¼šä»»åŠ¡è¿‡ç¢å¯¼è‡´æ‹–å»¶ã€‚",
      monthly: "é£é™©æé†’ï¼šä¸å¤ç›˜ä¼šé‡å¤è¸©å‘ã€‚",
      yearly: "é£é™©æé†’ï¼šæ–¹å‘ä¸ç¨³ä¼šæ¶ˆè€—åŠ¨åŠ›ã€‚",
      love: "é£é™©æé†’ï¼šå«ç³Šè¡¨è¾¾å¼•å‘çŒœæµ‹ã€‚",
    },
    wealth: {
      daily: "é£é™©æé†’ï¼šå†²åŠ¨æ¶ˆè´¹å½±å“ç°é‡‘æµã€‚",
      weekly: "é£é™©æé†’ï¼šå°æ”¯å‡ºç´¯ç§¯å¤±æ§ã€‚",
      monthly: "é£é™©æé†’ï¼šå¤§é¢æ”¯å‡ºç¼ºä¹é¢„æ¡ˆã€‚",
      yearly: "é£é™©æé†’ï¼šè¿‡åº¦åˆ†æ•£é™ä½æ”¶ç›Šã€‚",
      love: "é£é™©æé†’ï¼šæŠŠèŠ±é’±å½“æƒ…ç»ªè¡¥å¿ã€‚",
    },
    love: {
      daily: "é£é™©æé†’ï¼šè¿‡åº¦æ£æµ‹ä¼šè€—èƒ½ã€‚",
      weekly: "é£é™©æé†’ï¼šç¼ºå°‘å›åº”é€ æˆè·ç¦»ã€‚",
      monthly: "é£é™©æé†’ï¼šæ²Ÿé€šä¸å¯¹é½å®¹æ˜“è¯¯è§£ã€‚",
      yearly: "é£é™©æé†’ï¼šä»·å€¼è§‚ä¸ä¸€è‡´æ˜“åå¤ã€‚",
      love: "é£é™©æé†’ï¼šå›é¿å†²çªä¼šç´¯ç§¯å‹åŠ›ã€‚",
    },
    health: {
      daily: "é£é™©æé†’ï¼šç†¬å¤œä¼šå‰Šå¼±æ¢å¤ã€‚",
      weekly: "é£é™©æé†’ï¼šå‹åŠ›å †ç§¯å½±å“çŠ¶æ€ã€‚",
      monthly: "é£é™©æé†’ï¼šèŠ‚å¥å¤±è¡¡å¯¼è‡´ç–²æƒ«ã€‚",
      yearly: "é£é™©æé†’ï¼šé•¿æœŸå¿½è§†å°é—®é¢˜ã€‚",
      love: "é£é™©æé†’ï¼šæƒ…ç»ªè¿‡è½½å½±å“åˆ¤æ–­ã€‚",
    },
  };
  const boostTemplates = {
    theme: "åŠ åˆ†é¡¹ï¼šä¿æŒç¨³å®šè¾“å‡ºã€‚",
    career: "åŠ åˆ†é¡¹ï¼šæ¸…æ™°ç›®æ ‡ä¸å¤ç›˜ã€‚",
    wealth: "åŠ åˆ†é¡¹ï¼šå°é¢è¯•é”™ä¸è®°å½•ã€‚",
    love: "åŠ åˆ†é¡¹ï¼šçœŸè¯šè¡¨è¾¾ä¸å›åº”ã€‚",
    health: "åŠ åˆ†é¡¹ï¼šè§„å¾‹ä½œæ¯ä¸æ”¾æ¾ã€‚",
  };
  const getSectionKey = (title) => {
    if (title.includes("äº‹ä¸š") || title.includes("å­¦ä¸š") || title.includes("æ–¹å‘")) {
      return "career";
    }
    if (title.includes("è´¢")) {
      return "wealth";
    }
    if (title.includes("çˆ±") || title.includes("å…³ç³»") || title.includes("æ²Ÿé€š")) {
      return "love";
    }
    if (title.includes("å¥åº·") || title.includes("èº«å¿ƒ")) {
      return "health";
    }
    return "theme";
  };
  const enhanceDetails = (details) =>
    details.map((item) => {
      const sectionKey = getSectionKey(item.title);
      const tags = tagMap[sectionKey] || [];
      const action =
        item.action || actionTemplates[sectionKey][tabKey] || actionTemplates.theme[tabKey];
      const risk =
        item.risk || riskTemplates[sectionKey][tabKey] || riskTemplates.theme[tabKey];
      const boost =
        item.boost ||
        (tags.length
          ? `åŠ åˆ†é¡¹ï¼š${tags.join("ã€")}ã€‚`
          : boostTemplates[sectionKey]);
      return {
        ...item,
        action,
        risk,
        boost,
        tags: item.tags || tags,
      };
    });

  const fortune = {
    quote: tabQuote,
    overall,
    scores: [
      { label: "çˆ±æƒ…", score: scores.love },
      { label: "äº‹ä¸š", score: scores.career },
      { label: "è´¢è¿", score: scores.wealth },
      { label: "å¥åº·", score: scores.health },
    ],
    lucky: [
      { label: "å¹¸è¿é¢œè‰²", value: profile.facts.color },
      { label: "å¹¸è¿æ•°å­—", value: profile.facts.number },
      { label: "é€Ÿé…æ˜Ÿåº§", value: profile.facts.match },
    ],
    good: profile.good,
    bad: profile.bad,
    details: enhanceDetails(detailBuilders[tabKey] || detailBuilders.daily),
  };
  const nextCache = {
    ...cache,
    [dateKey]: {
      ...cachedByDate,
      [zodiacId]: {
        ...cachedByZodiac,
        [tabKey]: fortune,
      },
    },
  };
  wx.setStorageSync(FORTUNE_CACHE_KEY, nextCache);

  return fortune;
}

Page({
  data: {
    navBarHeight: 0,
    zodiacId: "",
    zodiac: {},
    profileFacts: [],
    traits: {
      expression: "",
      strengths: "",
      weaknesses: "",
    },
    analysisSections: [],
    fortune: {
      quote: "",
      overall: 0,
      scores: [],
      lucky: [],
      good: "",
      bad: "",
      details: [],
    },
    starIndexes: STAR_INDEXES,
    calendarTabs: [
      { key: "daily", label: "æ—¥è¿" },
      { key: "weekly", label: "å‘¨è¿" },
      { key: "monthly", label: "æœˆè¿" },
      { key: "yearly", label: "å¹´è¿" },
      { key: "love", label: "çˆ±æƒ…" },
    ],
    activeCalendarTab: "daily",
    calendarDisplay: {
      day: "",
      month: "",
    },
    weekDays: [],
    selectedDateKey: "",
    userProfile: null,
  },

  onLoad(options) {
    const zodiacId = options.id || "aries";
    const userProfile = wx.getStorageSync("userProfile") || null;
    const profile = ZODIAC_PROFILES[zodiacId] || ZODIAC_PROFILES.aries;
    const analysisSections = buildAnalysis(profile);
    const selectedDateKey = getTodayKey();
    const fortune = buildFortune(
      profile,
      zodiacId,
      this.data.activeCalendarTab,
      selectedDateKey,
      userProfile
    );

    this.setData({
      zodiacId,
      zodiac: {
        name: profile.name,
        icon: profile.icon,
        date: profile.date,
        desc: profile.desc,
      },
      profileFacts: [
        { label: "æœ€å¤§ç‰¹å¾", value: profile.facts.max },
        { label: "å››è±¡å±æ€§", value: profile.facts.element },
        { label: "ä¸»ç®¡è¡Œæ˜Ÿ", value: profile.facts.ruler },
        { label: "å¹¸è¿é¢œè‰²", value: profile.facts.color },
        { label: "å¹¸è¿å·ç ", value: profile.facts.number },
        { label: "é€Ÿé…æ˜Ÿåº§", value: profile.facts.match },
      ],
      traits: profile.traits,
      analysisSections,
      fortune,
      calendarDisplay: this.getCalendarDisplay(selectedDateKey),
      weekDays: this.getWeekDays(selectedDateKey),
      selectedDateKey,
      userProfile,
    });
  },

  onNavReady(e) {
    this.setData({
      navBarHeight: e.detail.navBarHeight || 0,
    });
  },

  getCalendarDisplay(dateKey) {
    const now = dateKey ? new Date(dateKey) : new Date();
    return {
      day: String(now.getDate()).padStart(2, "0"),
      month: String(now.getMonth() + 1).padStart(2, "0"),
    };
  },

  getWeekDays(selectedDateKey) {
    const now = new Date();
    const dayIndex = now.getDay();
    const startOfWeek = new Date(
      now.getFullYear(),
      now.getMonth(),
      now.getDate() - dayIndex
    );
    const labels = ["æ—¥", "ä¸€", "äºŒ", "ä¸‰", "å››", "äº”", "å…­"];
    const weekDays = [];

    for (let i = 0; i < 7; i += 1) {
      const date = new Date(
        startOfWeek.getFullYear(),
        startOfWeek.getMonth(),
        startOfWeek.getDate() + i
      );
      const isToday =
        date.getFullYear() === now.getFullYear() &&
        date.getMonth() === now.getMonth() &&
        date.getDate() === now.getDate();
      const dateKey = `${date.getFullYear()}-${String(
        date.getMonth() + 1
      ).padStart(2, "0")}-${String(date.getDate()).padStart(2, "0")}`;

      weekDays.push({
        label: labels[i],
        date: String(date.getDate()).padStart(2, "0"),
        isToday,
        dateKey,
        isSelected: selectedDateKey === dateKey,
      });
    }

    return weekDays;
  },

  getDateKeyForTab(tabKey, selectedDateKey) {
    const baseDate = selectedDateKey
      ? new Date(selectedDateKey)
      : new Date();
    if (tabKey === "weekly") {
      return getWeekKey(baseDate);
    }
    if (tabKey === "monthly") {
      return getMonthKey(baseDate);
    }
    if (tabKey === "yearly") {
      return getYearKey(baseDate);
    }
    if (tabKey === "love") {
      return getTodayKey();
    }
    return selectedDateKey || getTodayKey();
  },

  onCalendarTabChange(e) {
    const next = e.currentTarget.dataset.key;
    if (!next || next === this.data.activeCalendarTab) {
      return;
    }
    const dateKey = this.getDateKeyForTab(next, this.data.selectedDateKey);
    const profile = ZODIAC_PROFILES[this.data.zodiacId] || ZODIAC_PROFILES.aries;
    const fortune = buildFortune(
      profile,
      this.data.zodiacId,
      next,
      dateKey,
      this.data.userProfile
    );
    this.setData({ activeCalendarTab: next, fortune });
  },

  onCalendarDayTap(e) {
    const selectedDateKey = e.currentTarget.dataset.date;
    if (!selectedDateKey || selectedDateKey === this.data.selectedDateKey) {
      return;
    }
    const tabKey = this.data.activeCalendarTab;
    const dateKey = this.getDateKeyForTab(tabKey, selectedDateKey);
    const profile = ZODIAC_PROFILES[this.data.zodiacId] || ZODIAC_PROFILES.aries;
    const fortune = buildFortune(
      profile,
      this.data.zodiacId,
      tabKey,
      dateKey,
      this.data.userProfile
    );
    this.setData({
      selectedDateKey,
      weekDays: this.getWeekDays(selectedDateKey),
      calendarDisplay: this.getCalendarDisplay(selectedDateKey),
      fortune,
    });
  },
});
