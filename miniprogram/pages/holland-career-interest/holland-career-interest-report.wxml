<!-- pages/holland-career-interest/holland-career-interest-report.wxml -->

<view class="container">
  <view class="history-entry" bindtap="handleHistoryNav" aria-label="历史记录">
    <view class="history-entry-card">
      <view class="history-icon history-icon-clipboard">
        <view class="clipboard-tab"></view>
        <view class="clipboard-body"></view>
        <view class="clipboard-line clipboard-line-1"></view>
        <view class="clipboard-line clipboard-line-2"></view>
      </view>
      <text class="history-entry-text">历史记录</text>
    </view>
  </view>

  <view class="title">你的行动能量画像</view>

  <view class="radar-card">
    <view class="radar-header">
      <text class="radar-title">行动能量分布</text>
      <text class="radar-subtitle">满分 {{maxDimensionTotal}}</text>
    </view>
    <canvas canvas-id="radarCanvas" class="radar" width="320" height="320"></canvas>
    <view class="radar-hint">外圈代表该维度满分</view>
  </view>

  <view class="section-title">六维度概览</view>
  <view class="result-list">
    <view wx:for="{{resultList}}" wx:key="key" class="result-item">
      <view class="result-header">
        <text class="result-name">{{item.name}}</text>
        <view class="result-meta">
          <text class="result-score">{{item.score}}/{{item.total}}</text>
          <text class="result-level">{{item.level}}</text>
        </view>
      </view>
      <text class="result-percent">完成度 {{item.percent}}%</text>
      <view class="energy-bar energy-{{item.levelKey}}">
        <view class="energy-fill" style="width: {{item.percent}}%"></view>
        <text class="energy-percent">{{item.percent}}%</text>
      </view>
      <text class="result-desc">{{item.description}}</text>
    </view>
  </view>

  <view class="top-title">TOP 3 行动能量</view>
  <view class="top-list">
    <view wx:for="{{topDimensions}}" wx:key="key" class="top-item">
      {{item.name}}
    </view>
  </view>

  <view class="section-title">单维度能量画像</view>
  <view class="insight-list">
    <view wx:for="{{topInsights}}" wx:key="key" class="insight-card">
      <view class="insight-header">
        <text class="insight-name">{{item.name}}</text>
        <text class="insight-tag">{{item.shortLabel}}</text>
      </view>
      <text class="insight-core">{{item.coreInsight}}</text>

      <view class="insight-block">
        <text class="insight-label">能量描述</text>
        <view class="insight-items">
          <text wx:for="{{item.energyDescription}}" wx:key="*this" class="insight-item">{{item}}</text>
        </view>
      </view>

      <view class="insight-block">
        <text class="insight-label">支持你的环境</text>
        <view class="insight-items">
          <text wx:for="{{item.supportiveEnvironment}}" wx:key="*this" class="insight-item">{{item}}</text>
        </view>
      </view>

      <view class="insight-block">
        <text class="insight-label">可能消耗你的情境</text>
        <view class="insight-items">
          <text wx:for="{{item.possibleDrain}}" wx:key="*this" class="insight-item">{{item}}</text>
        </view>
      </view>
    </view>
  </view>

  <view class="section-title">三字母组合说明</view>
  <view class="combo-card">
    <view class="combo-code">{{combinationCode}}</view>
    <text wx:for="{{combinationTexts}}" wx:key="*this" class="combo-text">{{item}}</text>
  </view>

  <view class="section-title">使用说明</view>
  <view class="usage-card">
    <text class="usage-item">用于自我理解与行动偏好观察</text>
    <text class="usage-item">帮助你识别更容易进入状态的环境</text>
    <text class="usage-item">不构成评判、诊断或职业建议</text>
  </view>

  <view class="actions">
    <button class="btn" bindtap="handleRestart">再测一次</button>
  </view>
</view>
