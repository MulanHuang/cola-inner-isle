<!-- pages/behavior-strength/behavior-strength.wxml -->
<view class="container">

  <!-- 测试中 -->
  <view wx:if="{{!finished}}">
    <view class="progress">
      {{currentIndex + 1}} / {{questions.length}}
    </view>

    <view class="question">
      {{questions[currentIndex].text}}
    </view>

    <view class="options">
      <view
        class="option"
        wx:for="{{[1,2,3,4,5]}}"
        wx:key="*this"
        data-value="{{item}}"
        bindtap="handleSelect"
      >
        {{item}}
      </view>
    </view>

    <view class="scale-hint">
      <text>1 非常不像我</text>
      <text>5 非常像我</text>
    </view>
  </view>

  <!-- 结果页 -->
  <view wx:else>
    <view class="title">你的优势画像</view>

    <canvas canvas-id="radarCanvas" class="radar"></canvas>

    <view class="result-list">
      <view
        wx:for="{{Object.keys(result.result)}}"
        wx:key="*this"
        class="result-item"
      >
        <text>{{item}}</text>
        <text>{{result.result[item].score}}</text>
        <text>{{result.result[item].level}}</text>
      </view>
    </view>

    <view class="top-title">TOP 3 优势</view>
    <view class="top-list">
      <view wx:for="{{result.topStrengths}}" wx:key="*this" class="top-item">
        {{item}}
      </view>
    </view>
  </view>

</view>
