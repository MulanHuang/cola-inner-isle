<!--pages/meditation/meditation.wxml-->
<!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
<view class="custom-navbar" style="padding-top: {{statusBarHeight}}px;">
  <view class="navbar-content">
    <image class="navbar-logo" src="/images/logo.svg" mode="aspectFit"></image>
    <view class="navbar-title">å¯ä¹å¿ƒå²›</view>
  </view>
</view>

<view class="meditation-container page-with-custom-navbar" style="padding-top: {{navBarHeight}}px;">
  <!-- å›ºå®šå¤´éƒ¨åŒºåŸŸ -->
  <view class="fixed-header">
    <view class="header">
      <view class="header-title">ğŸ§˜ å†¥æƒ³ç©ºé—´</view>
      <view class="header-subtitle">æ‰¾åˆ°å†…å¿ƒçš„å¹³é™</view>
    </view>

    <!-- åˆ†ç±»æ ‡ç­¾ -->
    <scroll-view class="category-tabs" scroll-x>
      <view
        wx:for="{{categories}}"
        wx:key="id"
        class="category-tab {{currentCategory === item.id ? 'active' : ''}}"
        bindtap="switchCategory"
        data-id="{{item.id}}">
        <text class="category-icon">{{item.icon}}</text>
        <text class="category-name">{{item.name}}</text>
      </view>
    </scroll-view>
  </view>

  <!-- å¯æ»šåŠ¨çš„éŸ³é¢‘åˆ—è¡¨åŒºåŸŸ -->
  <scroll-view class="audio-scroll-view" scroll-y enhanced="{{true}}" show-scrollbar="{{false}}">
    <view class="audio-list">
      <view
        wx:for="{{audioList}}"
        wx:key="_id"
        class="audio-item"
        bindtap="playAudio"
        data-audio="{{item}}">
        <image class="audio-cover" src="{{item.cover}}" mode="aspectFill" lazy-load="{{true}}"></image>
        <view class="audio-info">
          <view class="audio-title">{{item.title}}</view>
          <text class="audio-desc" user-select="{{true}}">{{item.description}}</text>
          <view class="audio-meta">
            <text class="audio-duration">{{item.duration}}</text>
            <text class="audio-plays">{{item.smartPlays || item.plays || 0}} æ¬¡æ’­æ”¾</text>
          </view>
        </view>
        <view class="audio-play-icon">â–¶</view>
      </view>

      <!-- ç©ºçŠ¶æ€ -->
      <view wx:if="{{audioList.length === 0}}" class="empty">
        <view class="empty-text">æš‚æ— éŸ³é¢‘</view>
      </view>

      <!-- åº•éƒ¨å®‰å…¨é—´è· -->
      <view class="audio-list-bottom-space"></view>
    </view>
  </scroll-view>
</view>

<!-- å…¨å±€æ‚¬æµ®éŸ³ä¹æ§åˆ¶æŒ‰é’® -->
<audio-float />
