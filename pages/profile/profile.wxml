<!--pages/profile/profile.wxml-->
<!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
<view class="custom-navbar" style="padding-top: {{statusBarHeight}}px;">
  <view class="navbar-content">
    <image class="navbar-logo" src="/images/logo.png" mode="aspectFit"></image>
    <view class="navbar-title">å¯ä¹å¿ƒå²›</view>
  </view>
</view>

<view class="profile-container page-with-custom-navbar" style="padding-top: {{navBarHeight}}px;">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <image class="user-avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
    <view class="user-info">
      <view class="user-name">{{userInfo.name || 'æœªè®¾ç½®æ˜µç§°'}}</view>
      <view class="user-meta">
        <text wx:if="{{userInfo.zodiac}}">{{userInfo.zodiac}} Â· </text>
        <text wx:if="{{userInfo.mbti}}">{{userInfo.mbti}}</text>
      </view>
    </view>
    <view class="edit-btn" bindtap="editProfile">
      <text class="icon">âœï¸</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ•°æ® -->
  <view class="stats-grid">
    <view class="stat-item">
      <view class="stat-value">{{stats.emotionCount}}</view>
      <view class="stat-label">æƒ…ç»ªè®°å½•</view>
    </view>
    <view class="stat-item">
      <view class="stat-value">{{stats.chatCount}}</view>
      <view class="stat-label">å¯¹è¯æ¬¡æ•°</view>
    </view>
    <view class="stat-item">
      <view class="stat-value">{{stats.meditationCount}}</view>
      <view class="stat-label">å†¥æƒ³æ¬¡æ•°</view>
    </view>
    <view class="stat-item">
      <view class="stat-value">{{stats.tarotCount}}</view>
      <view class="stat-label">å¡”ç½—è®°å½•</view>
    </view>
  </view>

  <!-- åŠŸèƒ½åˆ—è¡¨ -->
  <view class="menu-list">
    <view class="menu-item" bindtap="goToEmotionHistory">
      <view class="menu-icon">ğŸ’­</view>
      <view class="menu-text">æƒ…ç»ªå†å²</view>
      <view class="menu-arrow">â†’</view>
    </view>

    <view class="menu-item" bindtap="goToMeditationHistory">
      <view class="menu-icon">ğŸ§˜</view>
      <view class="menu-text">å†¥æƒ³è®°å½•</view>
      <view class="menu-arrow">â†’</view>
    </view>

    <view class="menu-item" bindtap="goToTarotHistory">
      <view class="menu-icon">ğŸ”®</view>
      <view class="menu-text">å¡”ç½—å†å²</view>
      <view class="menu-arrow">â†’</view>
    </view>

    <view class="menu-item" bindtap="goToExplore">
      <view class="menu-icon">ğŸŒ±</view>
      <view class="menu-text">è‡ªæˆ‘æ¢ç´¢</view>
      <view class="menu-arrow">â†’</view>
    </view>
  </view>

  <!-- è®¾ç½® -->
  <view class="settings-section">
    <view class="menu-item" bindtap="showAbout">
      <view class="menu-icon">â„¹ï¸</view>
      <view class="menu-text">å…³äº å¯ä¹å¿ƒå²›</view>
      <view class="menu-arrow">â†’</view>
    </view>
  </view>
</view>

<!-- å…¨å±€æ‚¬æµ®éŸ³ä¹æ§åˆ¶æŒ‰é’® -->
<audio-float />
